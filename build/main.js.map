{"version":3,"sources":["../../src/pages/historical/historical.ts","../../src/utils/map.service.ts","../../src/utils/geocoding.service.ts","../../src/pages/groups-page/groups-page.ts","../../src/pages/real-time/real-time.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/login.ts","../../src/pages/historical-form/historical-form.ts","../../src/pages/paths-list/paths-list.ts","../../src/objects/real-time.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/utils/headers.ts","../../src/providers/global.config.ts","../../src/providers/real-time.service.ts","../../src/pages/map-page/map-page.ts","../../src/pages/home/home.ts","../../src/providers/historical.service.ts","../../src/providers/data-management.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAA0C;AACyE;AAC5D;AACF;AACkB;AACS;AACZ;AACf;AAEK;AACO;AACjE,IAAO,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AACzB,IAAO,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;AACJ;AACmD;AAC/B;AACC;AACkB;AACkB;AACjC;AAMzC,IAAa,UAAU;IAiBrB,oBAAoB,OAAiB,EAAS,IAAiB,EAAQ,eAA+B,EAAU,eAAgC,EAAU,gBAAkC,EAAS,qBAA4C,EAAQ,IAAS,EAAW,iBAAoC,EAAS,WAA8B,EAAS,SAA0B,EAAS,OAAsB,EAAS,SAAoB,EAAS,UAAsB;QAAlc,YAAO,GAAP,OAAO,CAAU;QAAS,SAAI,GAAJ,IAAI,CAAa;QAAQ,oBAAe,GAAf,eAAe,CAAgB;QAAU,oBAAe,GAAf,eAAe,CAAiB;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAS,0BAAqB,GAArB,qBAAqB,CAAuB;QAAQ,SAAI,GAAJ,IAAI,CAAK;QAAW,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,eAAU,GAAV,UAAU,CAAY;QATtd,eAAU,GAAW,EAAE,CAAC;QACxB,uBAAkB,GAAqB,IAAI,CAAC;QAC5C,uBAAkB,GAAqB,IAAI,CAAC;QAC5C,WAAM,GAAwB,IAAI,GAAG,EAAE,CAAC;QACxC,yBAAoB,GAAY,KAAK,CAAC;QACtC,cAAS,GAAY,KAAK,CAAC;QAC3B,sBAAiB,GAAY,KAAK,CAAC;QACnC,gCAA2B,GAAa,IAAI,CAAC;QAG3C,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC1D,CAAC;IAED,6BAAQ,GAAR;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAGD,yBAAI,GAAJ;QAAA,iBAOK;QALC,IAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC;QACrC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,oDAAU,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,SAAS,CAAC,WAAC;YACxC,KAAI,CAAC,qBAAqB,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC;IACL,CAAC;IACD,+BAAU,GAAV;QAAA,iBAWC;QAVC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,iBAAO;YACnF,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC;YACtB,KAAI,CAAC,eAAe,EAAE,CAAC;YACvB,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK;gBACvB,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAQ;oBAC9B,QAAQ,CAAC,cAAc,GAAG,IAAI,2EAAc,EAAE,CAAC;oBAC/C,KAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC/B,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAEL,0CAAqB,GAArB;QAAA,iBAsDC;QArDC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,eAAe,CAAC,qBAAqB,EAAE,CAAC,SAAS,CAAC,yBAAe;YAC9F,EAAE,CAAC,CAAC,KAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBAC5B,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC;YACpD,CAAC;YACD,KAAI,CAAC,kBAAkB,GAAG,eAAe,CAAC;YAC1C,eAAe,CAAC,OAAO,CAAC,wBAAc;gBACpC,cAAc,CAAC,QAAQ,GAAG,KAAI,CAAC,WAAW,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gBAC5E,KAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;gBAEzC,EAAE,CAAC,CAAC,KAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;oBAC5B,KAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,2BAAiB;wBAC3C,EAAE,CAAC,CAAC,iBAAiB,CAAC,gBAAgB,KAAK,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC;4BAC3E,EAAE,CAAC,CAAC,cAAc,CAAC,KAAK,GAAG,CAAC,IAAI,KAAI,CAAC,iBAAiB,IAAI,KAAK,IAAI,cAAc,CAAC,gBAAgB,IAAI,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gCAC1H,KAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;4BAC3D,CAAC;4BACD,EAAE,CAAC,CAAC,iBAAiB,CAAC,KAAK,IAAI,CAAC,IAAI,cAAc,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;gCAC7D,IAAI,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oCACtC,OAAO,EAAE,cAAc,CAAC,QAAQ,CAAC,SAAS,GAAG,cAAc;oCAC3D,QAAQ,EAAE,IAAI;oCACd,QAAQ,EAAE,KAAK;iCAChB,CAAC,CAAC;gCACH,KAAK,CAAC,OAAO,EAAE,CAAC;gCAChB,KAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;gCACjC,EAAE,EAAC,KAAI,CAAC,2BAA2B,IAAI,IAAI,CAAC;oCAC5C,KAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gCACvE,EAAE,EAAC,KAAI,CAAC,iBAAiB,IAAI,KAAK,IAAI,cAAc,CAAC,gBAAgB,IAAI,KAAI,CAAC,cAAc,CAAC,EAAC;oCAC5F,KAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gCAC3D,CAAC;4BACH,CAAC;4BACD,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC,KAAK,GAAG,CAAC,IAAI,cAAc,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;gCAClG,IAAI,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oCACtC,OAAO,EAAE,cAAc,CAAC,QAAQ,CAAC,SAAS,GAAG,+BAA+B;oCAC5E,QAAQ,EAAE,IAAI;oCACd,QAAQ,EAAE,KAAK;iCAChB,CAAC,CAAC;gCACH,KAAK,CAAC,OAAO,EAAE,CAAC;4BAClB,CAAC;4BACD,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC,KAAK,GAAG,CAAC,IAAI,cAAc,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC;gCACnG,IAAI,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oCACtC,OAAO,EAAE,cAAc,CAAC,QAAQ,CAAC,SAAS,GAAG,gBAAgB;oCAC7D,QAAQ,EAAE,IAAI;oCACd,QAAQ,EAAE,KAAK;iCAChB,CAAC,CAAC;gCACH,KAAK,CAAC,OAAO,EAAE,CAAC;gCAChB,KAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;gCAClC,KAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;4BAC1C,CAAC;wBACH,CAAC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QAEL,CAAC,CAAC,CAAC;IACL,CAAC;IACD,4BAAO,GAAP;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;YAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;QACtD,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,eAAe,EAAE;YAC/B,WAAW,EAAE,KAAK;YAClB,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;YACtC,IAAI,EAAE,CAAC;YACP,OAAO,EAAE,CAAC;YACV,OAAO,EAAE,EAAE;YACX,aAAa,EAAE,EAAE;YACjB,MAAM,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,aAAa,CAAC;SACjD,CAAC,CAAC;QACH,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC;IAE5B,CAAC;IACD,oCAAe,GAAf;QAAA,iBAYC;QAXC,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,6EAAU,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QAC5E,UAAU,CAAC,OAAO,EAAE,CAAC;QACrB,UAAU,CAAC,YAAY,CAAC,wBAAc;YACpC,EAAE,CAAC,CAAC,cAAc,IAAI,IAAI,IAAI,cAAc,IAAI,CAAE,CAAC,CAAC,CAAC;gBACnD,KAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC;gBACrC,KAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,KAAI,CAAC,cAAc,GAAG,cAAc,CAAC;gBACrC,KAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAE1C,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,mCAAc,GAAd;QACE,IAAI,CAAC,UAAU,CAAC,sBAAsB,EAAE,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IAC3B,CAAC;IACD,yCAAoB,GAApB,UAAqB,EAAU;QAC7B,IAAI,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,YAAE;YAC5C,MAAM,CAAC,EAAE,CAAC,gBAAgB,IAAI,EAAE,CAAC;QACnC,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,MAAM,CAAC;YAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC7B,IAAI;YAAC,MAAM,CAAC,IAAI,CAAC;IACnB,CAAC;IAED,uCAAkB,GAAlB,UAAmB,gBAAwB;QAA3C,iBAWC;QAVC,IAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC;QACrC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,wBAAc;YAE5C,EAAE,CAAC,CAAC,cAAc,CAAC,gBAAgB,IAAI,gBAAgB,CAAC,CAAC,CAAC;gBACxD,wBAAwB;gBACxB,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;gBAC3D,KAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;YAE3C,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,yCAAoB,GAApB,UAAqB,EAAE,EAAE,EAAE;QACzB,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QACtD,IAAI;YAAC,KAAK,CAAC;IACb,CAAC;IAED,iCAAY,GAAZ,UAAa,OAAY;QACvB,IAAI,SAAS,GAAW,IAAI,CAAC;QAC7B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACZ,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;gBACzB,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC;YAC3B,CAAC;YACD,EAAE,CAAC,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC;gBAClC,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,GAAG,GAAG,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC;YAC1F,CAAC;YACD,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;gBACzB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,IAAI,GAAG,OAAO,CAAC,IAAI,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC;YAC/E,CAAC;YACD,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC;gBACtB,SAAS,GAAG,cAAc,CAAC;YAC7B,CAAC;QACH,CAAC;QACD,MAAM,CAAC,SAAS,CAAC;IACnB,CAAC;IAED,gCAAW,GAAX,UAAY,QAAgB;QAC1B,IAAI,aAAa,GAAG,IAAI,qEAAQ,EAAE,CAAC;QACnC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC5C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC;oBACrD,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC5C,KAAK,CAAC;gBACR,CAAC;YACH,CAAC;QACH,CAAC;QACD,MAAM,CAAC,aAAa,CAAC;IACvB,CAAC;IACD,wCAAmB,GAAnB,UAAoB,cAA8B;QAAlD,iBAmIC;QAlIC,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QAC/C,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,GAAG,EAAE,CAAC;QACrC,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YACxB,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACpC,CAAC;QACD,IAAI,IAAI,CAAC;QACT,IAAI,MAAM,CAAC;QACX,IAAI,KAAK,CAAC;QACV,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,qBAAqB,CAAC,oBAAoB,EAAE,CAAC,SAAS,CAAC,wBAAc;gBACxE,KAAI,CAAC,qBAAqB,CAAC,cAAc,GAAG,cAAc,CAAC;gBAC3D,cAAc,CAAC,gBAAgB,GAAG,KAAI,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YACjJ,CAAC,CAAC;QACJ,CAAC;QACD,IAAI,CAAC,CAAC;YACJ,cAAc,CAAC,gBAAgB,GAAG,IAAI,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QACjJ,CAAC;QACA,EAAE,CAAC,CAAC,cAAc,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC;YAClC,KAAK,GAAG,cAAc,CAAC,aAAa,GAAG,CAAC,CAAC;QAC3C,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,IAAI,cAAc,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;YAC/D,IAAI,iBAAiB,GAAG,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;YACnF,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,UAAU,EAAE,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACxF,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,GAAG,iBAAiB,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,UAAU,CAAC,GAAG,GAAG,iBAAiB,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;oBACvK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;gBAC1D,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gBAC3D,CAAC;YACH,CAAC;QAEH,CAAC;QACD,KAAK,GAAG,oBAAoB,GAAG,IAAI,CAAC,qBAAqB,CAAC,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;YACvG,wBAAwB,GAAG,cAAc,CAAC,QAAQ,CAAC,SAAS;YAC5D,mBAAmB,GAAG,cAAc,CAAC,QAAQ,CAAC,IAAI;YAClD,0BAA0B,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,2BAA2B,GAAG,cAAc,CAAC,KAAK;YACvL,8BAA8B,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,EAAE,GAAG,GAAG,GAAG,OAAO;YAChJ,yBAAyB,GAAG,cAAc,CAAC,MAAM;YACjD,uEAAuE,GAAG,cAAc,CAAC,SAAS,GAAG,iDAAiD,CAAC;QAEvJ,MAAM,GAAG,IAAI,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE;YAC7C,aAAa,EAAE,KAAK;SACrB,CAAC,CAAC;QACF,4BAA4B;QAC7B,EAAE,CAAC,CAAC,cAAc,CAAC,oBAAoB,IAAI,OAAO,IAAI,cAAc,CAAC,KAAK,IAAI,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAG,IAAI,CAAC,CAAC,CAAC;YAClH,IAAI,GAAG,IAAI,IAAI,CAAC;gBACd,OAAO,EAAE,2EAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM;gBAC3E,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC;YACH,8DAA8D;QAChE,CAAC;QACD,EAAE,CAAC,CAAC,cAAc,CAAC,oBAAoB,IAAI,OAAO,IAAI,cAAc,CAAC,KAAK,GAAG,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAG,IAAI,CAAC,CAAC,CAAC;YACjH,IAAI,GAAG,IAAI,IAAI,CAAC;gBACd,OAAO,EAAE,2EAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM;gBAC3E,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC;YACH,4EAA4E;QAC9E,CAAC;QACD,EAAE,CAAC,CAAC,cAAc,CAAC,oBAAoB,IAAI,OAAO,IAAI,cAAc,CAAC,KAAK,IAAI,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAG,KAAK,CAAC,CAAC,CAAC;YACnH,IAAI,GAAG,IAAI,IAAI,CAAC;gBACd,OAAO,EAAE,2EAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM;gBAC3E,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC;YACH,mEAAmE;QACrE,CAAC;QACD,EAAE,CAAC,CAAC,cAAc,CAAC,oBAAoB,IAAI,WAAW,IAAI,cAAc,CAAC,oBAAoB,IAAI,iBAAiB,CAAC,CAAC,CAAC;YACnH,IAAI,GAAG,IAAI,IAAI,CAAC;gBACd,OAAO,EAAE,2EAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM;gBAC3E,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC;YACH,6EAA6E;QAC/E,CAAC;QACD,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,gBAAM;YACxH,KAAK,GAAG,KAAK,GAAG,SAAS,GAAG,MAAM,CAAC,YAAY,GAAG,UAAU,CAAC;YAC7D,EAAE,CAAC,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACpC,KAAK,GAAG,KAAK,GAAG,4JAA4J,GAAG,cAAc,CAAC,gBAAgB,GAAG,oBAAoB,CAAC;YACxO,CAAC;YAED,4BAA4B;YAG5B,cAAc,CAAC,SAAS,GAAG,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAC7D,cAAc,CAAC,gBAAgB,GAAG,MAAM,CAAC,YAAY,CAAC;YACtD,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,kBAAkB,GAAG,KAAK,CAAC;YAC/B,EAAE,CAAC,CAAC,KAAI,CAAC,2BAA2B,IAAI,IAAI,IAAI,KAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9H,kBAAkB,GAAG,IAAI,CAAC;gBAC1B,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACxB,CAAC;YACD,EAAE,EAAC,cAAc,CAAC,gBAAgB,IAAI,KAAI,CAAC,cAAc,CAAC,EAAC;gBAEzD,KAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC;gBAEvC,KAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,cAAc,CAAC,UAAU,EAAC,KAAK,EAAC,IAAI,EAAC,cAAc,CAAC,gBAAgB,EAAE,kBAAkB,CAAE,CAAC;gBAC9H,EAAE,EAAC,KAAI,CAAC,SAAS,IAAI,KAAK,IAAI,cAAc,CAAC,KAAK,GAAG,CAAC,CAAC,EAAC;oBACtD,KAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gBAC3D,CAAC;YACH,CAAC;YACA,2NAA2N;YAC7N,KAAK;YAEF;;;;;qCAKyB;QAE3B,CAAC,EAAE,UAAC,GAAG;YACL,IAAI,kBAAkB,GAAG,KAAK,CAAC;YAC/B,EAAE,CAAC,CAAE,KAAI,CAAC,2BAA2B,IAAI,IAAI,IAAI,KAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/H,kBAAkB,GAAG,IAAI,CAAC;YAC5B,CAAC;YACD,EAAE,EAAC,cAAc,CAAC,gBAAgB,IAAI,KAAI,CAAC,cAAc,CAAC,EAAC;gBAC3D,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;gBACxB;;;;;yCAKyB;gBACzB,KAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,cAAc,CAAC,UAAU,EAAC,KAAK,EAAC,IAAI,EAAC,cAAc,CAAC,gBAAgB,EAAE,kBAAkB,CAAE,CAAC;YAC9H,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,+BAAU,GAAV,UAAW,KAAU;QACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAC7C,CAAC;IACD,yCAAoB,GAApB,UAAqB,cAA8B;QACjD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;YACd,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK;gBACvB,EAAE,CAAC,CAAC,KAAK,CAAC;oBACR,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAQ;wBAC9B,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,IAAI,cAAc,CAAC,gBAAgB,CAAC;4BACvD,QAAQ,CAAC,cAAc,GAAG,cAAc,CAAC;oBAE7C,CAAC,CAAC;YACN,CAAC,CAAC;IACN,CAAC;IAEC,kCAAa,GAAb;QAAA,iBAiGC;QAhGC,IAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC;QACrC,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,wFAAc,CAAC,CAAC;QACtD,SAAS,CAAC,OAAO,EAAE,CAAC;QACpB,SAAS,CAAC,YAAY,CAAC,cAAI;YACzB,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;gBACnB,+CAA+C;gBAC/C,kFAAkF;gBAClF,IAAI,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;gBAC7C,6CAA6C;gBAC9C,+EAA+E;gBAC9E,IAAI,YAAY,GAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;gBAC1C,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC;oBACpC,OAAO,EAAE,sBAAsB;iBAChC,CAAC,CAAC;gBACH,KAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;gBACtB,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,EAAE;oBACxE,SAAS,EAAE,aAAa;oBACxB,OAAO,EAAE,YAAY;iBACtB,CAAC,CAAC,SAAS,CAAC,eAAK;oBAChB,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBACnB,EAAE,EAAC,KAAI,CAAC,KAAK,IAAI,IAAI,CAAC;wBACtB,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI;4BAErB,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,GAAC,OAAO,CAAC,CAAC;4BAChD,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;4BAC5B,IAAI,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;4BACtC,IAAI,CAAC,oBAAoB,GAAG,KAAK,GAAG,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;4BAE7D,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,GAAC,OAAO,CAAC,CAAC;4BAC1C,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;4BACxB,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;4BAClC,IAAI,CAAC,kBAAkB,GAAG,KAAK,GAAG,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;4BAE3D,IAAI,CAAC,yBAAyB,GAAG,KAAI,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;4BACjI,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,yBAAyB,CAAC;4BACzD,EAAE,CAAC,CAAC,IAAI,CAAC,yBAAyB,IAAI,IAAI,CAAC,CAAC,CAAC;gCAC3C,KAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,gBAAM;oCAChH,IAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;oCACrE,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,cAAc,IAAI,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;wCACxG,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,GAAG,CAAC;wCACrH,IAAI,CAAC,yBAAyB,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,GAAG,CAAC;oCAC9H,CAAC;oCACD;;;;;;;;;;;;;uCAaG;gCACL,CAAC,EAAE,UAAC,GAAG;oCACL,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;oCACtC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gCACjC,CAAC,CAAC,CAAC;4BACL,CAAC;4BACD,IAAI,CAAC,uBAAuB,GAAG,KAAI,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;4BAC3H,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,uBAAuB,CAAC;4BACrD,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,IAAI,IAAI,CAAC,CAAC,CAAC;gCACzC,KAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,gBAAM;oCAC5G,IAAI,CAAC,gBAAgB,GAAG,KAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;oCACnE,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,cAAc,IAAI,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;wCACxG,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,GAAG,CAAC;wCACnH,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,gBAAgB,CAAC;oCACvD,CAAC;oCACD;;;;;;;;;;;;;uCAaG;gCACL,CAAC,EAAE,UAAC,GAAG;oCACL,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;oCACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gCAC/B,CAAC,CAAC,CAAC;4BACL,CAAC;wBAEH,CAAC,CAAC,CAAC;oBACH,KAAI,CAAC,gBAAgB,EAAE,CAAC;oBACxB,KAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;gBACxB,CAAC,CAAC,CAAC;YACL,CAAC;QACD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qCAAgB,GAAhB;QAAA,iBAOC;QANC,IAAI,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,yEAAS,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;QAC7E,cAAc,CAAC,OAAO,EAAE,CAAC;QACzB,cAAc,CAAC,YAAY,CAAC,qBAAW;YACrC,EAAE,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC;gBACxB,KAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6BAAQ,GAAR,UAAS,IAAS;QAAlB,iBAqFC;QApFC,IAAI,CAAC,UAAU,CAAC,sBAAsB,EAAE,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;QACvC,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE;YACnD,SAAS,EAAE,IAAI,CAAC,aAAa;YAC7B,OAAO,EAAE,IAAI,CAAC,WAAW;SAC1B,CAAC,CAAC,SAAS,CAAC,gBAAM;YACjB,IAAI,WAAW,GAAa,EAAE,CAAC;YAC/B,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI;gBACvB,IAAI,KAAK,GAAG,YAAY,GAAG,2EAAS,GAAG,eAAe,GAAG,sBAAsB,GAAG,IAAI,CAAC,eAAe,CAAC;gBACvG;;;qBAGK;gBACL,IAAI,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC,EAAC,GAAG,EAAG,IAAI,CAAC,YAAY,EAAE,GAAG,EAAE,IAAI,CAAC,aAAa,EAAC,CAAC,CAAC;gBAC9E,UAAU,CAAC,KAAK,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBACtC,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,cAAO,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,EAAC,GAAG,EAAG,IAAI,CAAC,YAAY,EAAE,GAAG,EAAE,IAAI,CAAC,aAAa,EAAC,EAAE,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;gBACrH,KAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,gBAAM;oBACtG,IAAI,oBAAoB,GAAG,MAAM,CAAC,YAAY,CAAC;oBAC/C,IAAI,WAAW,GAAG,CAAC,CAAC;oBACpB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC/D,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;4BAClC,WAAW,GAAG,WAAW,GAAG,CAAC,CAAC;wBAChC,CAAC;wBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC,CAAC;4BAC5B,oBAAoB,GAAG,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;4BAC/D,KAAK,CAAC;wBACR,CAAC;oBACH,CAAC;oBACD,KAAK,GAAG,KAAK,GAAG,aAAa,GAAG,oBAAoB,GAAG,MAAM,CAAC;oBAC9D,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC;gBACH,UAAU,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;oBAC1B,OAAO,EAAE,2EAAS,GAAG,eAAe;oBACpC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;oBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;iBACvB,CAAC,CAAC,CAAC;gBACJ,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC;YACH,IAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;YAC/E,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,UAAC,UAAU,EAAE,CAAC;gBACvC,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBAElC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACjD,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;wBACtB,OAAO,EAAE,2EAAS,GAAG,iBAAiB;wBACtC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;qBACnB,CAAC,CAAC,CAAC;oBACJ,IAAI,aAAa,GAAG,IAAI,iEAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;oBAClD,IAAI,KAAK,GAAG,gBAAgB,GAAG,aAAa,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,qBAAqB,CAAC,GAAG,sBAAsB,GAAG,UAAU,CAAC,KAAK,GAAG,OAAO,CAAC;oBACrJ,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;oBACxB,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE;wBACjB,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;oBAC9C,CAAC,CAAC,CAAC;oBACH,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBACpC,CAAC;YACH,CAAC,CAAC,CAAC;YACH,IAAI,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,iBAAiB,EAAE,GAAG,EAAE,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;YAC1F,IAAI,SAAS,GAAQ,IAAI,CAAC,aAAa,CAAC;YACxC,IAAI,aAAa,GAAG,IAAI,iEAAQ,CAAC,SAAS,CAAC,CAAC;YAC5C,WAAW,CAAC,SAAS,CAAC,yBAAyB,GAAG,IAAI,CAAC,kBAAkB,GAAE,4CAA4C,GAAG,aAAa,CAAC,SAAS,CAAC,SAAS,EAAE,qBAAqB,CAAC,CAAC,CAAC;YACrL,WAAW,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;gBAC3B,OAAO,EAAE,2EAAS,GAAG,iBAAiB;gBACtC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC,CAAC;YACJ,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YACvC,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC;gBAC9F,IAAI,SAAS,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,eAAe,EAAE,GAAG,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;gBACpF,IAAI,OAAO,GAAQ,IAAI,CAAC,WAAW,CAAC;gBACpC,IAAI,WAAW,GAAG,IAAI,iEAAQ,CAAC,OAAO,CAAC,CAAC;gBACxC,SAAS,CAAC,SAAS,CAAC,uBAAuB,GAAG,IAAI,CAAC,gBAAgB,GAAE,sCAAsC,GAAG,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,qBAAqB,CAAC;sBACrJ,gCAAgC,GAAG,IAAI,CAAC,eAAe,GAAG,8BAA8B,GAAG,IAAI,CAAC,mBAAmB,GAAG,gCAAgC;sBACtJ,IAAI,CAAC,QAAQ,GAAG,2CAA2C,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CACzH,CAAC;gBACM,SAAS,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;oBACzB,OAAO,EAAE,2EAAS,GAAG,eAAe;oBACpC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;oBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;iBACvB,CAAC,CAAC,CAAC;gBACJ,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACvC,CAAC;YACD,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACjF,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACL,CAAC;IACD,uCAAkB,GAAlB,UAAmB,QAAgB;QAAnC,iBAgCC;QA9BC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,qBAAW;YAE/D,EAAE,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC;gBACtB,IAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,EAAE,EAAC,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,EAAC,CAAC,CAAC;gBAClF,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,UAAC,UAAU,EAAE,CAAC;oBAC1C,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC;oBACpC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;wBACpD,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;4BACpB,OAAO,EAAE,2EAAS,GAAG,iBAAiB;4BACtC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;yBACrB,CAAC,CAAC,CAAC;wBACJ,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;oBACtC,CAAC;gBACL,CAAC,CAAC,CAAC;gBAEH,IAAI,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,EAAC,GAAG,EAAG,WAAW,CAAC,iBAAiB,EAAE,GAAG,EAAE,WAAW,CAAC,kBAAkB,EAAC,CAAC,CAAC;gBACvG,WAAW,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;oBACzB,OAAO,EAAE,2EAAS,GAAG,iBAAiB;oBACtC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;oBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;iBACzB,CAAC,CAAC,CAAC;gBACJ,WAAW,CAAC,EAAE,CAAC,OAAO,EAAE,cAAO,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,EAAC,GAAG,EAAG,WAAW,CAAC,iBAAiB,EAAE,GAAG,EAAE,WAAW,CAAC,kBAAkB,EAAC,EAAE,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;gBAC9I,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;gBACvC,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBACtC,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YAC1B,CAAC;YACD,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAClC,CAAC,EAAE,UAAC,GAAG;YACL,KAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QACjC,CAAC,CAAC,CAAC;IACL,CAAC;IACD,mCAAc,GAAd;IAEA,CAAC;IAED,qCAAgB,GAAhB,UAAiB,SAAiB;QAChC,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,EAAC;YACrB,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,EAAC,CAAC,CAAC,CAAC;YACnC,IAAI,kBAAgB,GAAG,EAAE,CAAC;YAC1B,KAAK,CAAC,OAAO,CAAC,cAAI;gBAChB,kBAAgB,GAAG,kBAAgB,GAAG,IAAI,GAAG,IAAI,CAAC;YACpD,CAAC,CAAC,CAAC;YACH,kBAAgB,GAAG,kBAAgB,CAAC,KAAK,CAAC,CAAC,EAAC,kBAAgB,CAAC,MAAM,CAAC,CAAC;YACrE,MAAM,CAAC,kBAAgB,CAAC;QAC1B,CAAC;QAAA,IAAI;YACL,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IACD,2BAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAG,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QAEnC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,6DAAQ,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;IACtB,CAAC;IAER,iBAAC;AAAD,CAAC;AA9kBY,UAAU;IAJtB,wEAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;OACG;KAC/B,CAAC;eAkBsd;AA6jBvd;SA9kBY,UAAU,mB;;;;;;;;;;;;;;;;;;;;;;ACzBkC;AAExC;AACjB,IAAO,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AACzB,IAAO,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;AAQkC;AAGvD,IAAa,UAAU;IAsBnB;QAfO,cAAS,GAA0B,IAAI,mEAAY,EAAW,CAAC;QAE/D,mBAAc,GAAsB,IAAI,mEAAY,EAAO,CAAC;QAC5D,oBAAe,GAAsB,IAAI,mEAAY,EAAO,CAAC;QAE7D,aAAQ,GAAc,EAAE,CAAC;QACzB,YAAO,GAAa,EAAE,CAAC;QACvB,cAAS,GAAe,EAAE,CAAC;QAC3B,YAAO,GAAa,EAAE,CAAC;QACvB,iBAAY,GAAkB,EAAE,CAAC;QACjC,cAAS,GAAe,EAAE,CAAC;QAE3B,eAAU,GAAa,EAAE,CAAC;QAC1B,gBAAW,GAAc,EAAE,CAAC;QAG/B,IAAI,CAAC,QAAQ,GAAG;YACZ,aAAa,EAAE,CAAC,CAAC,SAAS,CAAC,qDAAqD,EAAE;gBAC9E,OAAO,EAAE,EAAE;gBACX,UAAU,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;aACvC,CAAC;YACP;;;;;;;;;;;;;;;;;;;;;;;;iBAwBK;SACP,CAAC;IACN,CAAC;IAED,2BAAM,GAAN;QACI,+CAA+C;IACnD,CAAC;IAED,gCAAW,GAAX,UAAY,QAAkB;QAC1B,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9B,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC;IAED,uCAAkB,GAAlB,UAAmB,UAAe,EAAC,KAAU,EAAC,IAAS,EAAC,EAAO,EAAC,oBAA6B;QACzF,6BAA6B;QAC7B,SAAS;QAFb,iBAoCC;QAhCG,EAAE,EAAC,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,CAAC,EAAC;YAC/D,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;YAChE,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACvB,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YACxB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACrB,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,cAAO,KAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;QACrD,CAAC;QAAE,IAAI,CAAC,CAAC;YACG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAE;gBAC5B,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;oBACf,qBAAqB;oBACxB,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,EAAC,CAAC,CAAC,CAAC;oBAC1D,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;oBAChC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBACxB,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;oBACvC,EAAE,EAAC,oBAAoB,IAAI,IAAI,CAAC,CAC5B,CAAC;wBAAA,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;wBAC7D,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;4BACpB,OAAO,EAAE,2EAAS,GAAG,iBAAiB;4BACtC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;yBACrB,CAAC,CAAC,CAAC;wBACJ,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;wBACvB,IAAI,MAAM,GAAG,EAAE,CAAC;wBAChB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;wBAClC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;wBAC1C,IAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;wBACnE,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;oBAC/B,CAAC;gBACL,CAAC;YACD,CAAC,CAAC,CAAC;QACX,CAAC;IAED,CAAC;IAED,mCAAc,GAAd,UAAe,QAAkB,EAAE,oBAA6B;QAAhE,iBAmCC;QAlCG,IAAI,EAAE,GAAY,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAE;YACjB,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;gBACvB,EAAE,CAAC,CAAC,oBAAoB,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC/B,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;oBAC9C,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;wBACpB,OAAO,EAAE,2EAAS,GAAG,iBAAiB;wBACtC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;qBACrB,CAAC,CAAC,CAAC;oBACJ;;yBAEK;oBACL,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;oBACvB,IAAI,MAAM,GAAG,EAAE,CAAC;oBAChB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;oBACjC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;oBACxC,IAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;oBACnE,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBAC/B,CAAC;gBACD,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;gBAC/C,yEAAyE;gBACzE;;qBAEK;gBACL,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC;gBAChD,oCAAoC;gBACpC,EAAE,GAAG,IAAI,CAAC;YACd,CAAC;QACL,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACN,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC9B,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC;IACL,CAAC;IAED,uCAAkB,GAAlB;QAAA,iBAKC;QAJG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,WAAC;YACvB,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IAC3B,CAAC;IAED,4BAAO,GAAP,UAAQ,UAAe;QACnB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;IACrC,CAAC;IAED,8BAAS,GAAT,UAAU,MAAc;QACpB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1B,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3B,CAAC;IAED,yCAAoB,GAApB;QAAA,iBAKC;QAJG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAC;YAClB,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IACtB,CAAC;IAED,8BAAS,GAAT,UAAU,MAAc;QACpB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1B,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3B,CAAC;IAED,iCAAY,GAAZ,UAAa,MAAc;QACvB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC7B,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3B,CAAC;IAED,4CAAuB,GAAvB;QAAA,iBAKC;QAJG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,WAAC;YACrB,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACzB,CAAC;IAED,iCAAY,GAAZ,UAAa,KAAa;QACtB,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAC1C,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED,oCAAe,GAAf;QAAA,iBAIC;QAHG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAM;YACvB,MAAM,CAAC,KAAK,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC;QAC3B,CAAC,CAAC;IACN,CAAC;IAED,yCAAoB,GAApB;QAAA,iBAKC;QAJG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAC;YAClB,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IACtB,CAAC;IAED,gCAAW,GAAX,UAAY,QAAkB;QAC1B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9B,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC7B,CAAC;IAED,2CAAsB,GAAtB;QAAA,iBAKC;QAJG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,WAAC;YACpB,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACxB,CAAC;IAED,+BAAU,GAAV,UAAW,OAAgB;QACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC5B,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5B,CAAC;IAED,kCAAa,GAAb,UAAc,OAAgB;QAC1B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/B,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5B,CAAC;IAID,kCAAa,GAAb,UAAc,KAAa;QACvB,6CAA6C;QAC7C,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,qCAAgB,GAAhB;QAAA,iBAIC;QAHG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,iBAAO;YACzB,OAAO,CAAC,KAAK,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC;QAC5B,CAAC,CAAC;IACN,CAAC;IAED,0CAAqB,GAArB;QAAA,iBAKC;QAJG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAC;YACnB,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACvB,CAAC;IAED,6CAAwB,GAAxB;QAAA,iBAKC;QAJG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,WAAC;YACtB,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED,6BAAQ,GAAR;QACI,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAClC,CAAC;IAED,sCAAiB,GAAjB,UAAkB,SAAiB;QAC/B,IAAI,OAAO,GAAgB,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAC9D,CAAC,CAAC,QAAQ,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAC5C,CAAC,CAAC,QAAQ,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;IACjD,CAAC;IAAA,CAAC;IAEN,iBAAC;AAAD,CAAC;AApQY,UAAU;IADtB,yEAAU,EAAE;;GACA,UAAU,CAoQtB;AApQsB;;;;;;;;;;;;;;;;;;;;;;ACfkB;AACN;AAG4B;AAE/D,IAAa,gBAAgB;IAKzB,0BAAoB,KAAW;QAAX,UAAK,GAAL,KAAK,CAAM;IAC/B,CAAC;IAED,mCAAQ,GAAR,UAAS,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;QAC3B,IAAI,CAAC,GAAG,oBAAoB,CAAC,CAAI,gBAAgB;QACjD,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;YAClC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;gBACzB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACnC,IAAI,QAAQ,GAAG,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,4CAAiB,GAAjB,UAAkB,QAAgB,EAAE,SAAiB,EAAE,IAAY;QAC/D,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,+EAAa,GAAG,+BAA+B,GAAG,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,QAAQ,GAAG,IAAI,GAAG,sCAAsC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC9L,CAAC;IAED,wCAAa,GAAb;QACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACtF,CAAC;IAED,wCAAa,GAAb,UAAc,EAAU;QACpB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,qBAAqB,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC7E,CAAC;IAEL,uBAAC;AAAD,CAAC;AA9BY,gBAAgB;IAD5B,yEAAU,EAAE;qCAMkB,2DAAI;GALtB,gBAAgB,CA8B5B;AA9B4B;;;;;;;;;;;;;;;;;;;;;;ACNa;AACgE;AACtC;AAQpE,IAAa,UAAU;IAMrB,oBAAmB,OAAsB,EAAS,SAAoB,EAAS,QAAwB,EAAS,eAAgC;QAA7H,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,aAAQ,GAAR,QAAQ,CAAgB;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAC9I,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtC,gDAAgD;IAClD,CAAC;IAEF;;;;;QAKI;IAEH,+BAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC7C,CAAC;IAED,mCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;IAC3C,CAAC;IAED,gCAAW,GAAX;QAAA,iBAKC;QAJH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,iBAAO;YAC/E,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC;YACtB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAkB,GAAlB,UAAmB,QAAgB;QACjC,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC7C,CAAC;IAED,gCAAW,GAAX;QACE,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC7B,CAAC;IAED,+BAAU,GAAV;QACE,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC5B,CAAC;IAED,yCAAoB,GAApB;QACE,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACtC,CAAC;IAED,uCAAkB,GAAlB;QACE,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;IACpC,CAAC;IAEH,iBAAC;AAAD,CAAC;AAtDY,UAAU;IAJtB,wEAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;OACG;KAChC,CAAC;eAOgJ;AAgDjJ;SAtDY,UAAU,oB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVmB;AACA;AACqD;AAC1C;AACR;AACuB;AACY;AACf;AACS;AAClB;AAEE;AAC1D,IAAO,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AACzB,IAAO,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;AACgB;AACpB;AACwB;AAOzC,IAAa,QAAQ;IAenB,kBAAoB,OAAiB,EAAU,IAAiB,EAAQ,SAA0B,EAAQ,IAAU,EAAU,gBAAkC,EAAU,qBAA4C,EAAU,eAAgC,EAAU,eAAgC,EAAS,OAAsB,EAAS,SAAoB,EAAS,UAAsB;QAAjX,YAAO,GAAP,OAAO,CAAU;QAAU,SAAI,GAAJ,IAAI,CAAa;QAAQ,cAAS,GAAT,SAAS,CAAiB;QAAQ,SAAI,GAAJ,IAAI,CAAM;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAU,0BAAqB,GAArB,qBAAqB,CAAuB;QAAU,oBAAe,GAAf,eAAe,CAAiB;QAAU,oBAAe,GAAf,eAAe,CAAiB;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,eAAU,GAAV,UAAU,CAAY;QAXrY,eAAU,GAAW,EAAE,CAAC;QACxB,uBAAkB,GAAqB,IAAI,CAAC;QAC5C,uBAAkB,GAAqB,IAAI,CAAC;QAC5C,WAAM,GAAwB,IAAI,GAAG,EAAE,CAAC;QACxC,yBAAoB,GAAY,KAAK,CAAC;QACtC,cAAS,GAAY,KAAK,CAAC;QAC3B,sBAAiB,GAAY,KAAK,CAAC;QACnC,gCAA2B,GAAa,IAAI,CAAC;QAKvC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACzD,CAAC;IACD,2BAAQ,GAAR;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,mCAAgB,GAAhB;QACA,IAAI,CAAC,IAAI,EAAE,CAAC;IACZ,CAAC;IAED,uBAAI,GAAJ;QAAA,iBAOC;QALC,IAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC;QACrC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,oDAAU,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,SAAS,CAAC,WAAC;YACxC,KAAI,CAAC,qBAAqB,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC;IACL,CAAC;IACD,0BAAO,GAAP;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;YAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;QACtD,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE;YACrB,WAAW,EAAE,KAAK;YAClB,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;YACtC,IAAI,EAAE,CAAC;YACP,OAAO,EAAE,CAAC;YACV,OAAO,EAAE,EAAE;YACX,aAAa,EAAE,EAAE;YACjB,MAAM,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,aAAa,CAAC;SACjD,CAAC,CAAC;QACH,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC;IAC5B,CAAC;IACD,kCAAe,GAAf;QAAA,iBAYC;QAXC,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,4EAAU,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QAC5E,UAAU,CAAC,OAAO,EAAE,CAAC;QACrB,UAAU,CAAC,YAAY,CAAC,wBAAc;YACpC,EAAE,CAAC,CAAC,cAAc,IAAI,IAAI,IAAI,cAAc,IAAI,CAAC,IAAI,cAAc,IAAI,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gBAC3F,KAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC;gBACrC,KAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,KAAI,CAAC,cAAc,GAAG,cAAc,CAAC;gBACrC,KAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC;YAE1C,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,6BAAU,GAAV;QAAA,iBAWC;QAVC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,iBAAO;YACnF,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC;YACtB,KAAI,CAAC,eAAe,EAAE,CAAC;YACvB,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK;gBACvB,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAQ;oBAC9B,QAAQ,CAAC,cAAc,GAAG,IAAI,0EAAc,EAAE,CAAC;oBAC/C,KAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC/B,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IACA,8BAAW,GAAX,UAAY,GAAG;QACV,IAAI,CAAC,UAAU,EAAE,CAAC;IACxB,CAAC;IAGD,qCAAkB,GAAlB,UAAmB,gBAAwB;QAA3C,iBAUC;QATC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,wBAAc;YAE5C,EAAE,CAAC,CAAC,cAAc,CAAC,gBAAgB,IAAI,gBAAgB,CAAC,CAAC,CAAC;gBACxD,wBAAwB;gBACxB,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;gBAC3D,KAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;YAE3C,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wCAAqB,GAArB;QAAA,iBAsDC;QArDC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,eAAe,CAAC,qBAAqB,EAAE,CAAC,SAAS,CAAC,yBAAe;YAC9F,EAAE,CAAC,CAAC,KAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBAC5B,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC;YACpD,CAAC;YACD,KAAI,CAAC,kBAAkB,GAAG,eAAe,CAAC;YAC1C,eAAe,CAAC,OAAO,CAAC,wBAAc;gBACpC,cAAc,CAAC,QAAQ,GAAG,KAAI,CAAC,WAAW,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gBAC5E,KAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;gBAEzC,EAAE,CAAC,CAAC,KAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;oBAC5B,KAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,2BAAiB;wBAC3C,EAAE,CAAC,CAAC,iBAAiB,CAAC,gBAAgB,KAAK,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC;4BAC3E,EAAE,CAAC,CAAC,cAAc,CAAC,KAAK,GAAG,CAAC,IAAI,KAAI,CAAC,iBAAiB,IAAI,KAAK,IAAI,cAAc,CAAC,gBAAgB,IAAI,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gCAC1H,KAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;4BAC3D,CAAC;4BACD,EAAE,CAAC,CAAC,iBAAiB,CAAC,KAAK,IAAI,CAAC,IAAI,cAAc,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;gCAC7D,IAAI,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oCACtC,OAAO,EAAE,cAAc,CAAC,IAAI,GAAG,cAAc;oCAC7C,QAAQ,EAAE,IAAI;oCACd,QAAQ,EAAE,KAAK;iCAChB,CAAC,CAAC;gCACH,KAAK,CAAC,OAAO,EAAE,CAAC;gCAChB,KAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;gCACjC,EAAE,EAAC,KAAI,CAAC,2BAA2B,IAAI,IAAI,CAAC;oCAC5C,KAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gCACvE,EAAE,EAAC,KAAI,CAAC,iBAAiB,IAAI,KAAK,IAAI,cAAc,CAAC,gBAAgB,IAAI,KAAI,CAAC,cAAc,CAAC,EAAC;oCAC5F,KAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gCAC3D,CAAC;4BACH,CAAC;4BACD,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC,KAAK,GAAG,CAAC,IAAI,cAAc,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;gCAClG,IAAI,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oCACtC,OAAO,EAAE,cAAc,CAAC,QAAQ,CAAC,IAAI,GAAG,+BAA+B;oCACvE,QAAQ,EAAE,IAAI;oCACd,QAAQ,EAAE,KAAK;iCAChB,CAAC,CAAC;gCACH,KAAK,CAAC,OAAO,EAAE,CAAC;4BAClB,CAAC;4BACD,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC,KAAK,GAAG,CAAC,IAAI,cAAc,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC;gCACnG,IAAI,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oCACtC,OAAO,EAAE,cAAc,CAAC,QAAQ,CAAC,IAAI,GAAG,gBAAgB;oCACxD,QAAQ,EAAE,IAAI;oCACd,QAAQ,EAAE,KAAK;iCAChB,CAAC,CAAC;gCACH,KAAK,CAAC,OAAO,EAAE,CAAC;gCAChB,KAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;gCAClC,KAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;4BAC1C,CAAC;wBACH,CAAC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QAEL,CAAC,CAAC,CAAC;IACL,CAAC;IACD,sCAAmB,GAAnB,UAAoB,cAA8B;QAAlD,iBAmIC;QAlIC,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QAC/C,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,GAAG,EAAE,CAAC;QACrC,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YACxB,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACpC,CAAC;QACD,IAAI,IAAI,CAAC;QACT,IAAI,MAAM,CAAC;QACX,IAAI,KAAK,CAAC;QACV,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,qBAAqB,CAAC,oBAAoB,EAAE,CAAC,SAAS,CAAC,wBAAc;gBACxE,KAAI,CAAC,qBAAqB,CAAC,cAAc,GAAG,cAAc,CAAC;gBAC3D,cAAc,CAAC,gBAAgB,GAAG,KAAI,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YACjJ,CAAC,CAAC;QACJ,CAAC;QACD,IAAI,CAAC,CAAC;YACJ,cAAc,CAAC,gBAAgB,GAAG,IAAI,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QACjJ,CAAC;QACA,EAAE,CAAC,CAAC,cAAc,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC;YAClC,KAAK,GAAG,cAAc,CAAC,aAAa,GAAG,CAAC,CAAC;QAC3C,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,IAAI,cAAc,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;YAC/D,IAAI,iBAAiB,GAAG,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;YACnF,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,UAAU,EAAE,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACxF,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,GAAG,iBAAiB,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,UAAU,CAAC,GAAG,GAAG,iBAAiB,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;oBACvK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;gBAC1D,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gBAC3D,CAAC;YACH,CAAC;QAEH,CAAC;QACD,KAAK,GAAG,oBAAoB,GAAG,IAAI,CAAC,qBAAqB,CAAC,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC;YACvG,wBAAwB,GAAG,cAAc,CAAC,QAAQ,CAAC,SAAS;YAC5D,mBAAmB,GAAG,cAAc,CAAC,QAAQ,CAAC,IAAI;YAClD,0BAA0B,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,2BAA2B,GAAG,cAAc,CAAC,KAAK;YACvL,8BAA8B,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,EAAE,GAAG,GAAG,GAAG,OAAO;YAChJ,yBAAyB,GAAG,cAAc,CAAC,MAAM;YACjD,uEAAuE,GAAG,cAAc,CAAC,SAAS,GAAG,iDAAiD,CAAC;QAEvJ,MAAM,GAAG,IAAI,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE;YAC7C,aAAa,EAAE,KAAK;SACrB,CAAC,CAAC;QACF,4BAA4B;QAC7B,EAAE,CAAC,CAAC,cAAc,CAAC,oBAAoB,IAAI,OAAO,IAAI,cAAc,CAAC,KAAK,IAAI,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAG,IAAI,CAAC,CAAC,CAAC;YAClH,IAAI,GAAG,IAAI,IAAI,CAAC;gBACd,OAAO,EAAE,4EAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM;gBAC3E,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC;YACH,8DAA8D;QAChE,CAAC;QACD,EAAE,CAAC,CAAC,cAAc,CAAC,oBAAoB,IAAI,OAAO,IAAI,cAAc,CAAC,KAAK,GAAG,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAG,IAAI,CAAC,CAAC,CAAC;YACjH,IAAI,GAAG,IAAI,IAAI,CAAC;gBACd,OAAO,EAAE,4EAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM;gBAC3E,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC;YACH,4EAA4E;QAC9E,CAAC;QACD,EAAE,CAAC,CAAC,cAAc,CAAC,oBAAoB,IAAI,OAAO,IAAI,cAAc,CAAC,KAAK,IAAI,CAAC,IAAI,cAAc,CAAC,QAAQ,IAAG,KAAK,CAAC,CAAC,CAAC;YACnH,IAAI,GAAG,IAAI,IAAI,CAAC;gBACd,OAAO,EAAE,4EAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM;gBAC3E,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC;YACH,mEAAmE;QACrE,CAAC;QACD,EAAE,CAAC,CAAC,cAAc,CAAC,oBAAoB,IAAI,WAAW,IAAI,cAAc,CAAC,oBAAoB,IAAI,iBAAiB,CAAC,CAAC,CAAC;YACnH,IAAI,GAAG,IAAI,IAAI,CAAC;gBACd,OAAO,EAAE,4EAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM;gBAC3E,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;aACvB,CAAC,CAAC;YACH,6EAA6E;QAC/E,CAAC;QACD,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,gBAAM;YACxH,KAAK,GAAG,KAAK,GAAG,SAAS,GAAG,MAAM,CAAC,YAAY,GAAG,UAAU,CAAC;YAC7D,EAAE,CAAC,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACpC,KAAK,GAAG,KAAK,GAAG,4JAA4J,GAAG,cAAc,CAAC,gBAAgB,GAAG,oBAAoB,CAAC;YACxO,CAAC;YAED,4BAA4B;YAG5B,cAAc,CAAC,SAAS,GAAG,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAC7D,cAAc,CAAC,gBAAgB,GAAG,MAAM,CAAC,YAAY,CAAC;YACtD,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;YAC1C,IAAI,kBAAkB,GAAG,KAAK,CAAC;YAC/B,EAAE,CAAC,CAAC,KAAI,CAAC,2BAA2B,IAAI,IAAI,IAAI,KAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9H,kBAAkB,GAAG,IAAI,CAAC;gBAC1B,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACxB,CAAC;YACD,EAAE,EAAC,cAAc,CAAC,gBAAgB,IAAI,KAAI,CAAC,cAAc,CAAC,EAAC;gBAEzD,KAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC;gBAEvC,KAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,cAAc,CAAC,UAAU,EAAC,KAAK,EAAC,IAAI,EAAC,cAAc,CAAC,gBAAgB,EAAE,kBAAkB,CAAE,CAAC;gBAC9H,EAAE,EAAC,KAAI,CAAC,SAAS,IAAI,KAAK,IAAI,cAAc,CAAC,KAAK,GAAG,CAAC,CAAC,EAAC;oBACtD,KAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;gBAC3D,CAAC;YACH,CAAC;YACA,2NAA2N;YAC7N,KAAK;YAEF;;;;;qCAKyB;QAE3B,CAAC,EAAE,UAAC,GAAG;YACL,IAAI,kBAAkB,GAAG,KAAK,CAAC;YAC/B,EAAE,CAAC,CAAE,KAAI,CAAC,2BAA2B,IAAI,IAAI,IAAI,KAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/H,kBAAkB,GAAG,IAAI,CAAC;YAC5B,CAAC;YACD,EAAE,EAAC,cAAc,CAAC,gBAAgB,IAAI,KAAI,CAAC,cAAc,CAAC,EAAC;gBAC3D,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;gBACxB;;;;;yCAKyB;gBACzB,KAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,cAAc,CAAC,UAAU,EAAC,KAAK,EAAC,IAAI,EAAC,cAAc,CAAC,gBAAgB,EAAE,kBAAkB,CAAE,CAAC;YAC9H,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAoB,GAApB,UAAqB,cAA8B;QACjD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;YACd,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK;gBACvB,EAAE,CAAC,CAAC,KAAK,CAAC;oBACR,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAQ;wBAC9B,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,IAAI,cAAc,CAAC,gBAAgB,CAAC;4BACvD,QAAQ,CAAC,cAAc,GAAG,cAAc,CAAC;oBAE7C,CAAC,CAAC;YACN,CAAC,CAAC;IACN,CAAC;IAED,uCAAoB,GAApB,UAAqB,EAAU;QAC7B,IAAI,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,YAAE;YAC5C,MAAM,CAAC,EAAE,CAAC,gBAAgB,IAAI,EAAE,CAAC;QACnC,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,MAAM,CAAC;YAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC7B,IAAI;YAAC,MAAM,CAAC,IAAI,CAAC;IACnB,CAAC;IAED,uCAAoB,GAApB,UAAqB,EAAE,EAAE,EAAE;QACzB,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QACtD,IAAI;YAAC,KAAK,CAAC;IACb,CAAC;IAED,+BAAY,GAAZ,UAAa,OAAY;QACvB,IAAI,SAAS,GAAW,IAAI,CAAC;QAC7B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACZ,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;gBACzB,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC;YAC3B,CAAC;YACD,EAAE,CAAC,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC;gBAClC,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,GAAG,GAAG,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC;YAC1F,CAAC;YACD,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;gBACzB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,IAAI,GAAG,OAAO,CAAC,IAAI,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC;YAC/E,CAAC;YACD,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC;gBACtB,SAAS,GAAG,cAAc,CAAC;YAC7B,CAAC;QACH,CAAC;QACD,MAAM,CAAC,SAAS,CAAC;IACnB,CAAC;IAED,8BAAW,GAAX,UAAY,QAAgB;QAC1B,IAAI,aAAa,GAAG,IAAI,oEAAQ,EAAE,CAAC;QACnC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC5C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC;oBACrD,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC5C,KAAK,CAAC;gBACR,CAAC;YACH,CAAC;QACH,CAAC;QACD,MAAM,CAAC,aAAa,CAAC;IACvB,CAAC;IAED,iCAAc,GAAd;QACE,IAAI,CAAC,UAAU,CAAC,sBAAsB,EAAE,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IAC3B,CAAC;IAED,6BAAU,GAAV,UAAW,KAAU;QACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAC7C,CAAC;IAED,qCAAkB,GAAlB,UAAmB,QAAgB;QAAnC,iBAgCC;QA9BC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,qBAAW;YAE/D,EAAE,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC;gBACtB,IAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,EAAE,EAAC,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,EAAC,CAAC,CAAC;gBAClF,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,UAAC,UAAU,EAAE,CAAC;oBAC1C,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC;oBACpC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;wBACpD,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;4BACpB,OAAO,EAAE,4EAAS,GAAG,iBAAiB;4BACtC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;yBACrB,CAAC,CAAC,CAAC;wBACJ,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;oBACtC,CAAC;gBACL,CAAC,CAAC,CAAC;gBAEH,IAAI,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,EAAC,GAAG,EAAG,WAAW,CAAC,iBAAiB,EAAE,GAAG,EAAE,WAAW,CAAC,kBAAkB,EAAC,CAAC,CAAC;gBACvG,WAAW,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;oBACzB,OAAO,EAAE,4EAAS,GAAG,iBAAiB;oBACtC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;oBACpB,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;iBACzB,CAAC,CAAC,CAAC;gBACJ,WAAW,CAAC,EAAE,CAAC,OAAO,EAAE,cAAO,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,EAAC,GAAG,EAAG,WAAW,CAAC,iBAAiB,EAAE,GAAG,EAAE,WAAW,CAAC,kBAAkB,EAAC,EAAE,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;gBAC9I,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;gBACvC,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBACtC,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YAC1B,CAAC;YACD,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAClC,CAAC,EAAE,UAAC,GAAG;YACL,KAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QACjC,CAAC,CAAC,CAAC;IACL,CAAC;IACD,yBAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAG,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,4DAAQ,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;IACtB,CAAC;IAEN,eAAC;AAAD,CAAC;AAnYY,QAAQ;IAJpB,wEAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;OACG;KAC9B,CAAC;aAgBqY;AAoXtY;SAnYY,QAAQ,oB;;;;;;;ACvBrB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;;;;;;ACV2C;AACG;AACf;AACO;AACuC;AAG7E,IAAa,KAAK;IAIhB,eAAmB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;QAC3B,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACtC,CAAC;IAED,qBAAK,GAAL,UAAM,WAAgB;QACpB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,2DAAG,GAAG,QAAQ,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,sEAAc,EAAE,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACzG,CAAC;IAED,sBAAM,GAAN;QACE,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAE,QAAQ,EAAE,kBAAkB,EAAE,CAAC,CAAC;QAC5D,yFAAyB,CAAC,OAAO,CAAC,CAAC;QACnC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,2DAAG,GAAG,SAAS,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC1F,CAAC;IAEH,YAAC;AAAD,CAAC;AAlBY,KAAK;IADjB,yEAAU,EAAE;qCAKc,2DAAI;GAJlB,KAAK,CAkBjB;AAlBiB;;;;;;;;;;;;;;;;;;;;;;ACPwB;AACkE;AACrC;AAQvE,IAAa,cAAc;IAczB,wBAAoB,iBAAoC,EAAS,QAAwB,EAAS,OAAsB,EAAS,SAAoB,EAAS,WAA8B;QAAxK,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAS,aAAQ,GAAR,QAAQ,CAAgB;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAC1L,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAED,yCAAgB,GAAhB;IAEA,CAAC;IAED,6BAAI,GAAJ;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,sBAAsB;SAChC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtB,IAAI,CAAC,UAAU,EAAE,CAAC;IAEpB,CAAC;IAGD,uCAAc,GAAd;IAEA,CAAC;IAED,mCAAU,GAAV;QAAA,iBAiBC;QAhBC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,iBAAO;YACtE,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC;YACtB,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACpC,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC;YAE9C,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBAChD,KAAI,CAAC,gBAAgB,GAAG,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;YAErD,CAAC;YACD;;;;iBAIK;YACL,KAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oCAAW,GAAX,UAAY,KAAK;QAAjB,iBAWC;QAVC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,YAAE;YACpB,EAAE,EAAC,EAAE,CAAC,QAAQ,IAAI,KAAK,CAAC,EAAC;gBACvB,KAAI,CAAC,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC;YAChC,CAAC;QACH,CAAC,CAAC;QACF,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;QACrD,CAAC;IACH,CAAC;IAED,uCAAc,GAAd,UAAe,UAAU;QACvB,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC;IACrC,CAAC;IAED,oCAAW,GAAX;QACE,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,QAAQ,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC1F,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;IACzH,CAAC;IAED,mCAAU,GAAV;QACC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAE7B,CAAC;IAEH,qBAAC;AAAD,CAAC;AApFY,cAAc;IAJ1B,wEAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;OACG;KACpC,CAAC;mBAe4L;AAsE7L;SApFY,cAAc,oB;;;;;;;;;;;;;;;;;;;;ACVe;AACiE;AAO3G,IAAa,SAAS;IAIpB,mBAAmB,OAAsB,EAAS,SAAoB,EAAS,QAAwB;QAApF,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,aAAQ,GAAR,QAAQ,CAAgB;QACrG,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAED,kCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAC1C,CAAC;IAED,4BAAQ,GAAR,UAAS,IAAS;QAChB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAED,8BAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAEH,gBAAC;AAAD,CAAC;AApBY,SAAS;IAJrB,wEAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;OACG;KAC/B,CAAC;cAKuG;AAgBxG;SApBY,SAAS,oB;;;;;;;;;;ACNtB;AAAA;IA6BQ;QAFA,aAAQ,GAAa,IAAI,CAAC;QAGtB,IAAI,CAAC,SAAS,GAAG,cAAc,CAAC;QAChC,IAAI,CAAC,gBAAgB,GAAG,cAAc,CAAC;QACvC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;QAC7B,IAAI,CAAC,UAAU,GAAG,EAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAC,CAAC;QACnC,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAE,CAAC,CAAC;IAC1B,CAAC;IAEL,qBAAC;AAAD,CAAC;;AAED;IAAA;IAKA,CAAC;IAAD,YAAC;AAAD,CAAC;;AAED;IAcI;QACI,IAAI,CAAC,cAAc,GAAG,IAAI,cAAc,EAAE,CAAC;IAC/C,CAAC;IACL,eAAC;AAAD,CAAC;;;;;;;;;;;;;ACnEsE;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJM;AACH;AACZ;AAC8B;AAC7B;AACe;AACN;AAEb;AACM;AACH;AACU;AACO;AACJ;AACM;AACY;AACf;AACG;AACZ;AACa;AACG;AACW;AACzB;AA6CpD,IAAa,SAAS;IAAtB;IAAwB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAZ,SAAS;IA3CrB,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6DAAK;YACL,kEAAQ;YACR,0EAAO;YACP,iFAAU;YACV,6EAAQ;YACR,mFAAU;YACV,+FAAc;YACd,gFAAS;SACV;QAED,OAAO,EAAE;YACP,gFAAa;YACb,iEAAU;YACV,kEAAW,CAAC,OAAO,CAAC,6DAAK,CAAC;YAC1B,2EAAkB,CAAC,OAAO,EAAE;SAC7B;QACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;QACrB,eAAe,EAAE;YACf,6DAAK;YACL,kEAAQ;YACR,0EAAO;YACP,iFAAU;YACV,6EAAQ;YACR,mFAAU;YACV,+FAAc;YACd,gFAAS;SACV;QACD,SAAS,EAAE;YACT,2EAAS;YACT,iFAAY;YACZ,+DAAK;YACL,mFAAgB;YAChB,uEAAU;YACV,sFAAe;YACf,kGAAqB;YACrB,yFAAiB;YACjB,oEAAW;YACX,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;YACpD,2EAAkB;SACnB;KACF,CAAC;GACW,SAAS,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACnEoB;AACD;AACY;AAEP;AACU;AAOxD,IAAa,KAAK;IAGhB,eAAY,QAAkB,EAAE,SAAoB;QAApD,iBASC;QAPC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACpB,gEAAgE;YAChE,iEAAiE;YACjE,SAAS,CAAC,YAAY,EAAE,CAAC;YACzB,sBAAsB;YACtB,KAAI,CAAC,0BAA0B,EAAE,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,0CAA0B,GAA1B;QACE,EAAE,EAAC,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,WAAW,IAAI,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC;YAC7G,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,WAAW,IAAI,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;YACjH,IAAI,CAAC,QAAQ,GAAG,kEAAQ,CAAC;QAC3B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,QAAQ,GAAG,4EAAQ,CAAC;QAC3B,CAAC;IACH,CAAC;IACH,YAAC;AAAD,CAAC;AAtBY,KAAK;IAHjB,wEAAS,CAAC;OACc;KACxB,CAAC;UAIoD;AAmBrD;SAtBY,KAAK,2B;;;;;;;;;;;ACZoB;AAE/B,IAAM,cAAc,GAAG,IAAI,8DAAO,EAAE,CAAC;AAC5C,cAAc,CAAC,MAAM,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;AACpD,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;AAEpD,mCAAoC,OAAgB;IACtD,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;AACtE,CAAC;;;;;;;;;;;ACPD;AAAA,4EAA4E;AAC5E,oEAAoE;AAC7D,IAAI,GAAG,GAAW,4CAA4C,CAAC;AACtE,qEAAqE;AAC9D,IAAI,aAAa,GAAU,gCAAgC,CAAC;AACnE,8CAA8C;AACvC,IAAI,SAAS,GAAW,8BAA8B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACPrB;AACV;AAEa;AACR;AAKpC,IAAa,eAAe;IAIxB,yBAAoB,KAAW;QAAX,UAAK,GAAL,KAAK,CAAM;IAE/B,CAAC;IAED,2CAAiB,GAAjB,UAAkB,QAAgB;QAC9B,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,2DAAG,GAAG,kBAAkB,GAAG,QAAQ,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC1G,CAAC;IAED,oCAAU,GAAV;QACI,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,2DAAG,GAAG,qBAAqB,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAClG,CAAC;IAED,+CAAqB,GAArB;QACI,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,2DAAG,GAAG,iBAAiB,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC9F,CAAC;IAED,sCAAY,GAAZ,UAAa,OAAe;QACxB,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,2DAAG,GAAG,0BAA0B,GAAG,OAAO,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACjH,CAAC;IAED,wCAAc,GAAd,UAAe,QAAgB;QAC3B,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,2DAAG,GAAG,oBAAoB,GAAG,QAAQ,EAAC,IAAI,EAAG,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACnH,CAAC;IAEL,sBAAC;AAAD,CAAC;AAtCY,eAAe;IAD3B,yEAAU,EAAE;qCAKkB,2DAAI;GAJtB,eAAe,CAsC3B;AAtC2B;;;;;;;;;;;;;;;;;;;;;;;ACTc;AACc;AACN;AACI;AAOtD,IAAa,OAAO;IAOlB,iBAAmB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;QALzC,iBAAY,GAAQ,sEAAQ,CAAC;QAC7B,mBAAc,GAAQ,0EAAU,CAAC;IAIW,CAAC;IAE/C,cAAC;AAAD,CAAC;AATY,OAAO;IAJnB,wEAAS,CAAC;QACT,QAAQ,EAAE,eAAe;OACG;KAC7B,CAAC;YAQyC;AAE1C;SATY,OAAO,oB;;;;;;;;;;;;;;;;;;;;;;;;;;ACVsB;AACoB;AAClB;AAEsB;AACG;AACW;AAC7B;AACV;AAMzC,IAAa,QAAQ;IAKnB,kBAAmB,OAAgB,EAAS,iBAAoC,EAAS,eAAgC,EAAS,qBAA4C,EAAS,OAAsB,EAAS,aAAoB,EAAS,eAAgC;QAAnR,iBAiBC;QAjBkB,YAAO,GAAP,OAAO,CAAS;QAAS,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAAS,0BAAqB,GAArB,qBAAqB,CAAuB;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,kBAAa,GAAb,aAAa,CAAO;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAJnR,UAAK,GAAW,IAAI,CAAC;QACrB,QAAG,GAAW,IAAI,CAAC;QACnB,cAAS,GAAY,IAAI,CAAC;QAC1B,YAAO,GAAY,IAAI,CAAC;QAEzB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YAC5B,EAAE,EAAC,IAAI,IAAI,IAAI,CAAC,EAAC;gBACf,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YACpB,CAAC;YACD,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;gBACxC,EAAE,EAAC,IAAI,IAAI,IAAI,CAAC,EAAC;oBACd,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC;gBACnB,CAAC;gBACD,EAAE,EAAC,KAAI,CAAC,KAAK,IAAI,IAAI,IAAI,KAAI,CAAC,GAAG,IAAI,IAAI,CAAC,EAAC;oBAC1C,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,KAAK,CAAC;oBAC5B,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,GAAG,CAAC;oBACxB,KAAI,CAAC,QAAQ,EAAE,CAAC;gBAClB,CAAC;YACD,CAAC,CAAC,CAAC;QACH,CAAC,CAAC,CAAC;IAEX,CAAC;IACD,2BAAQ,GAAR;QAAA,iBAkBC;QAjBC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAC,UAAU,EAAC,IAAI,CAAC,KAAK,EAAC,UAAU,EAAC,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC,SAAS,CAC7E,eAAK;YACD,KAAI,CAAC,MAAM,EAAE,CAAC;YACd,KAAI,CAAC,aAAa,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;YACvC,KAAI,CAAC,eAAe,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;YACzC,KAAI,CAAC,iBAAiB,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;YAC3C,KAAI,CAAC,qBAAqB,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;YAC/C,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAC,KAAI,CAAC,KAAK,CAAC,CAAC;YACxC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAC,KAAI,CAAC,GAAG,CAAC,CAAC;QAC1C,CAAC,EACC;YACA,IAAI,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBACtC,OAAO,EAAE,2BAA2B;gBACpC,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,yBAAM,GAAN;QAAA,iBAKC;QAJC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,0EAAU,CAAC,CAAC,IAAI,CAAC;YACjC,IAAM,KAAK,GAAG,KAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC;YAC7C,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACD,CAAC;IAEH,eAAC;AAAD,CAAC;AAlDY,QAAQ;IAJpB,wEAAS,CAAC;QACT,QAAQ,EAAE,WAAW;OACG;KACzB,CAAC;aAMmR;AA6CpR;SAlDY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;;;ACdoB;AACV;AAEa;AACR;AAGpC,IAAa,iBAAiB;IAI1B,2BAAoB,KAAW;QAAX,UAAK,GAAL,KAAK,CAAM;IAE/B,CAAC;IAED,wCAAY,GAAZ;QACI,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,2DAAG,GAAG,gBAAgB,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC7F,CAAC;IAED,uCAAW,GAAX,UAAY,QAAgB,EAAE,YAAiB;QAC3C,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,2DAAG,GAAG,QAAQ,GAAG,QAAQ,EAAE,YAAY,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC/G,CAAC;IAED,0CAAc,GAAd,UAAe,QAAgB;QAC3B,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,2DAAG,GAAG,oBAAoB,GAAG,QAAQ,EAAC,IAAI,EAAG,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACnH,CAAC;IAED,0CAAc,GAAd,UAAe,QAAgB,EAAE,YAAiB;QAC9C,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,2DAAG,GAAG,gBAAgB,GAAG,QAAQ,EAAE,YAAY,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACvH,CAAC;IAEL,wBAAC;AAAD,CAAC;AAhCY,iBAAiB;IAD7B,yEAAU,EAAE;qCAKkB,2DAAI;GAJtB,iBAAiB,CAgC7B;AAhC6B;;;;;;;;;;;;;;;;;;;;;;;;ACPa;AACZ;AAEa;AACQ;AAIpD,IAAa,qBAAqB;IAS9B,+BAAoB,KAAW;QAAX,UAAK,GAAL,KAAK,CAAM;QAP/B,mBAAc,GAAoB,IAAI,CAAC;QAEvC,WAAM,GAAe,IAAI,CAAC;QAE1B,kBAAa,GAAY,IAAI,CAAC;QAC9B,uBAAkB,GAAU,IAAI,CAAC;IAGjC,CAAC;IAED,iDAAiB,GAAjB,UAAkB,QAAgB,EAAE,SAAiB,EAAE,IAAY;QAC/D,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,qEAAa,GAAG,+BAA+B,GAAG,QAAQ,GAAG,OAAO,GAAG,SAAS,GAAG,QAAQ,GAAG,IAAI,GAAG,sCAAsC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC9L,CAAC;IAED,oDAAoB,GAApB;QACI,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,2DAAG,GAAG,gBAAgB,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC7F,CAAC;IAED,gDAAgB,GAAhB,UAAiB,aAA4B;QACzC,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,2DAAG,GAAG,gBAAgB,EAAE,aAAa,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC7G,CAAC;IAED,4CAAY,GAAZ;QACI,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,QAAQ,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,2DAAG,GAAG,gBAAgB,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC7F,CAAC;IAED,+CAA+C;IAC/C,mDAAmB,GAAnB,UAAoB,GAAW,EAAE,GAAW;QAA5C,iBAgBC;QAfG,IAAI,gBAAgB,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,uBAAa;YACrC,IAAI,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,EAAE,aAAa,CAAC,UAAU,CAAC,GAAG,EAAE,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YACnG,EAAE,CAAC,CAAC,QAAQ,GAAG,aAAa,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;gBACtC,gBAAgB,GAAG,aAAa,CAAC,IAAI,CAAC;YAC1C,CAAC;YACD;;eAEG;YACH,EAAE,CAAC,CAAC,QAAQ,GAAG,aAAa,CAAC,GAAG,GAAG,IAAI,IAAI,QAAQ,GAAE,GAAG,CAAC,CAAC,CAAC;gBACvD,IAAI,WAAW,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACnD,gBAAgB,GAAG,IAAI,GAAG,WAAW,GAAG,SAAS,GAAG,aAAa,CAAC,IAAI,CAAC;YAC3E,CAAC;QACL,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,gBAAgB,CAAC;IAC5B,CAAC;IAED,wCAAQ,GAAR,UAAS,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;QAC3B,IAAI,CAAC,GAAG,oBAAoB,CAAC,CAAI,gBAAgB;QACjD,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;YAClC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;gBACzB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACnC,IAAI,QAAQ,GAAG,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,6CAAa,GAAb,UAAc,MAAc;QACxB,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACT,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACtC,MAAM,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC;YACpD,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;gBACxB,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC;YAC5B,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACvB,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;YAC3B,CAAC;YACD,IAAI;gBAAC,MAAM,CAAC,SAAS,CAAC;QAC1B,CAAC;QACD,IAAI;YAAC,MAAM,CAAC,kBAAkB,CAAC;IACnC,CAAC;IACL,4BAAC;AAAD,CAAC;AA9EY,qBAAqB;IADjC,yEAAU,EAAE;qCAUkB,2DAAI;GATtB,qBAAqB,CA8EjC;AA9EiC","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ModalController, LoadingController, App, ToastController } from 'ionic-angular';\r\nimport { DatePipe,DecimalPipe } from '@angular/common';\r\nimport { MapService } from \"../../utils/map.service\";\r\nimport { HistoricalService } from \"../../providers/historical.service\";\r\nimport { DataManagementService } from \"../../providers/data-management.service\";\r\nimport { HistoricalForm } from '../historical-form/historical-form';\r\nimport { PathsList } from '../paths-list/paths-list';\r\nimport { Subscription } from \"rxjs\";\r\nimport { imagesDir } from \"../../providers/global.config\";\r\nimport { GeocodingService } from '../../utils/geocoding.service';\r\nimport Marker = L.Marker;\r\nimport Icon = L.Icon;\r\nimport 'leaflet';\r\nimport { RealTimeService } from '../../providers/real-time.service';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport {HomePage} from '../home/home';\r\nimport { GroupsPage } from '../groups-page/groups-page';\r\nimport { RealTimeRecord, Group, Vehicule } from \"../../objects/real-time\";\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n  selector: 'page-historical',\r\n  templateUrl: 'historical.html',\r\n})\r\nexport class Historical {\r\n  groups: Group[];\r\n  allRealTimeRecords: Subscription;\r\n  allGroups: Subscription;\r\n  allPaths: Subscription;\r\n  paths: any[];\r\n  loader: any;\r\n  selectedDevice : any;\r\n  searchWord: string = '';\r\n  newRealTimeRecords: RealTimeRecord[] = null;\r\n  oldRealTimeRecords: RealTimeRecord[] = null;\r\n  angles: Map<number, number> = new Map();\r\n  isCurrentPathClicked: boolean = false;\r\n  pathDrawn: boolean = false;\r\n  previousPathdrawn: boolean = false;\r\n  currentPathClickedDeviceIds: number[] = null;\r\n  username : string;\r\n  constructor(private storage : Storage,private pipe: DecimalPipe,public toastController:ToastController, private realTimeService: RealTimeService, private geocodingService: GeocodingService,private dataManagementService: DataManagementService,public _app: App , private historicalService: HistoricalService, public loadingCtrl: LoadingController, public modalCtrl: ModalController, public navCtrl: NavController, public navParams: NavParams, public mapService: MapService) {\r\n    this.username = window.localStorage.getItem('username');\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.initMap();\r\n    this.init();\r\n  }\r\n\r\n  \r\n  init() {\r\n    \r\n        this.mapService.removeAllRtMarkers();\r\n        this.loadGroups();\r\n        Observable.interval(1000 * 60).subscribe(x => {\r\n          this.getAllRealTimeRecords();\r\n        });\r\n      }\r\n      loadGroups() {\r\n        this.allGroups = this.realTimeService.getAllGroups(this.searchWord).subscribe(groupes => {\r\n          this.groups = groupes;\r\n          this.openGroupsModal();\r\n          this.groups.forEach(group => {\r\n            group.vehicules.forEach(vehicule => {\r\n              vehicule.realTimeRecord = new RealTimeRecord();\r\n              this.getAllRealTimeRecords();\r\n            })\r\n          });\r\n        });\r\n      }\r\n\r\n  getAllRealTimeRecords() {\r\n    this.allRealTimeRecords = this.realTimeService.getAllRealTimeRecords().subscribe(realTimeRecords => {\r\n      if (this.newRealTimeRecords) {\r\n        this.oldRealTimeRecords = this.newRealTimeRecords;\r\n      }\r\n      this.newRealTimeRecords = realTimeRecords;\r\n      realTimeRecords.forEach(realTimeRecord => {\r\n        realTimeRecord.vehicule = this.getVehicule(realTimeRecord.idRealTimeRecord);\r\n        this.trackRealTimeRecord(realTimeRecord);\r\n\r\n        if (this.oldRealTimeRecords) {\r\n          this.oldRealTimeRecords.map(oldRealTimeRecord => {\r\n            if (oldRealTimeRecord.idRealTimeRecord === realTimeRecord.idRealTimeRecord) {\r\n              if (realTimeRecord.speed > 0 && this.previousPathdrawn == false && realTimeRecord.idRealTimeRecord == this.selectedDevice) {\r\n                this.displayCurrentPath(realTimeRecord.idRealTimeRecord);\r\n              }\r\n              if (oldRealTimeRecord.speed == 0 && realTimeRecord.speed > 0) {\r\n                let toast = this.toastController.create({\r\n                  message: realTimeRecord.vehicule.matricule + ' a dmarr !',\r\n                  duration: 2000,\r\n                  position: 'top'\r\n                });\r\n                toast.present();\r\n                this.isCurrentPathClicked = true;\r\n                if(this.currentPathClickedDeviceIds != null)\r\n                this.currentPathClickedDeviceIds.push(realTimeRecord.idRealTimeRecord);\r\n                if(this.previousPathdrawn == false && realTimeRecord.idRealTimeRecord == this.selectedDevice){\r\n                  this.displayCurrentPath(realTimeRecord.idRealTimeRecord);\r\n                }\r\n              }\r\n              if ((oldRealTimeRecord.speed > 0 && realTimeRecord.speed == 0) && realTimeRecord.ignition == true) {\r\n                let toast = this.toastController.create({\r\n                  message: realTimeRecord.vehicule.matricule + \" s'est arrt provisoirement!\",\r\n                  duration: 2000,\r\n                  position: 'top'\r\n                });\r\n                toast.present();\r\n              }\r\n              if ((oldRealTimeRecord.speed > 0 && realTimeRecord.speed == 0) && realTimeRecord.ignition == false) {\r\n                let toast = this.toastController.create({\r\n                  message: realTimeRecord.vehicule.matricule + \" s'est arrt!\",\r\n                  duration: 2000,\r\n                  position: 'top'\r\n                });\r\n                toast.present();\r\n                this.isCurrentPathClicked = false;\r\n                this.currentPathClickedDeviceIds = null;\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n    });\r\n  }\r\n  initMap() {\r\n    if (this.mapService.map) this.mapService.map.remove();\r\n    let map = L.map('historicalMap', {\r\n      zoomControl: false,\r\n      center: L.latLng(32.586163, -9.912118),\r\n      zoom: 6,\r\n      minZoom: 3,\r\n      maxZoom: 20,\r\n      maxNativeZoom: 17,\r\n      layers: [this.mapService.baseMaps.googlehybride]\r\n    });\r\n    L.control.zoom({ position: 'topright' }).addTo(map);\r\n    this.mapService.map = map;\r\n    \r\n  }\r\n  openGroupsModal() {\r\n    let groupModal = this.modalCtrl.create(GroupsPage, { groups: this.groups });\r\n    groupModal.present();\r\n    groupModal.onDidDismiss(selectedDevice => {\r\n      if (selectedDevice != null && selectedDevice != 0 ) {\r\n        this.mapService.removeAllRtMarkers();\r\n        this.clearPolylines();\r\n        this.selectedDevice = selectedDevice;\r\n        this.goToRealTimeRecord(selectedDevice);\r\n\r\n      }\r\n    });\r\n  }\r\n  clearPolylines(){\r\n    this.mapService.removePolylinesFromMap();\r\n    this.mapService.removeMarkersFromMap();\r\n    this.pathDrawn = false;\r\n}\r\ngetOldRealTimeRecord(id: number): RealTimeRecord {\r\n  let result = this.oldRealTimeRecords.filter(rt => {\r\n    return rt.idRealTimeRecord == id;\r\n  });\r\n  if (result) return result[0];\r\n  else return null;\r\n}\r\n\r\ngoToRealTimeRecord(idRealTimeRecord: number) {\r\n  this.mapService.removeAllRtMarkers();\r\n  this.newRealTimeRecords.forEach(realTimeRecord => {\r\n\r\n    if (realTimeRecord.idRealTimeRecord == idRealTimeRecord) {\r\n      //this.clearPolylines();\r\n      this.mapService.map.setView(realTimeRecord.coordinate, 15);\r\n      this.trackRealTimeRecord(realTimeRecord);\r\n     \r\n    }\r\n  });\r\n}\r\ncompareTwoCoordinate(p1, p2) {\r\n  if (p1.lat == p2.lat && p1.lng == p2.lng) return true;\r\n  else false;\r\n}\r\n\r\ngetGeocoding(address: any): string {\r\n  let geocoding: string = null;\r\n  if (address) {\r\n    if (address.road != null) {\r\n      geocoding = address.road;\r\n    }\r\n    if (address.neighbourhood != null) {\r\n      geocoding = geocoding ? geocoding + ' ' + address.neighbourhood : address.neighbourhood;\r\n    }\r\n    if (address.city != null) {\r\n      geocoding = geocoding ? geocoding + ' (' + address.city + ')' : address.city;\r\n    }\r\n    if (geocoding == null) {\r\n      geocoding = 'chargement..';\r\n    }\r\n  }\r\n  return geocoding;\r\n}\r\n\r\ngetVehicule(idDevice: number): Vehicule {\r\n  let foundVehicule = new Vehicule();\r\n  for (let i = 0; i < this.groups.length; i++) {\r\n    for (let j = 0; j < this.groups[i].vehicules.length; j++) {\r\n      if (this.groups[i].vehicules[j].idDevice == idDevice) {\r\n        foundVehicule = this.groups[i].vehicules[j];\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return foundVehicule;\r\n}\r\ntrackRealTimeRecord(realTimeRecord: RealTimeRecord) {\r\n  let angle = 0;\r\n  var date = new Date(realTimeRecord.recordTime);\r\n  var minutes = date.getMinutes() + \"\";\r\n  if (minutes.length == 1) {\r\n    minutes = \"0\" + date.getMinutes();\r\n  }\r\n  let icon;\r\n  let marker;\r\n  let popup;\r\n  if (!this.dataManagementService.pointInterests) {\r\n    this.dataManagementService.getAllPointInterests().subscribe(pointInterests => {\r\n      this.dataManagementService.pointInterests = pointInterests;\r\n      realTimeRecord.relativePosition = this.dataManagementService.getRelativePosition(realTimeRecord.coordinate.lat, realTimeRecord.coordinate.lng);\r\n    })\r\n  }\r\n  else {\r\n    realTimeRecord.relativePosition = this.dataManagementService.getRelativePosition(realTimeRecord.coordinate.lat, realTimeRecord.coordinate.lng);\r\n  }\r\n   if (realTimeRecord.type === \"AA\") {\r\n    angle = realTimeRecord.rotationAngle * 8;\r\n  }\r\n  if (this.oldRealTimeRecords && realTimeRecord.type === \"GPRMC\") {\r\n    let oldRealTimeRecord = this.getOldRealTimeRecord(realTimeRecord.idRealTimeRecord);\r\n    if (oldRealTimeRecord) {\r\n      if (!this.compareTwoCoordinate(oldRealTimeRecord.coordinate, realTimeRecord.coordinate)) {\r\n        angle = Math.atan2(realTimeRecord.coordinate.lng - oldRealTimeRecord.coordinate.lng, realTimeRecord.coordinate.lat - oldRealTimeRecord.coordinate.lat) * 180 / Math.PI;\r\n        this.angles.set(realTimeRecord.idRealTimeRecord, angle);\r\n      } else {\r\n        angle = this.angles.get(realTimeRecord.idRealTimeRecord);\r\n      }\r\n    }\r\n\r\n  }\r\n  popup = '<b>Chauffeur:</b> ' + this.dataManagementService.getDriverName(realTimeRecord.vehicule.driver) +\r\n  '<br><b>Matricule:</b> ' + realTimeRecord.vehicule.matricule +\r\n  '<br><b>Mark:</b> ' + realTimeRecord.vehicule.mark +\r\n  '<br><b>Lat,Lng:</b><i> [' + this.PipeLngLat(realTimeRecord.coordinate.lat) + ',' + this.PipeLngLat(realTimeRecord.coordinate.lng) + ']</i><br><b>Vitesse :</b>' + realTimeRecord.speed +\r\n  \"<br><b>date et l'heure:</b> \" + (date.getMonth() + 1) + '/' + date.getDate() + '/' + date.getFullYear() + ' ' + date.getHours() + ':' + minutes +\r\n  \"<br><b>Signal GSM:</b> \" + realTimeRecord.signal +\r\n  \" <i class='fa fa-wifi' aria-hidden='true'></i><br><b>Sat en vue:</b> \" + realTimeRecord.satInView + \" <i class='fa fa-globe' aria-hidden='true'></i>\";\r\n\r\n  marker = new Marker(realTimeRecord.coordinate, {\r\n    rotationAngle: angle\r\n  });\r\n   // marker.bindPopup(\"salut\")\r\n  if (realTimeRecord.realTimeRecordStatus == 'VALID' && realTimeRecord.speed == 0 && realTimeRecord.ignition== true) {\r\n    icon = new Icon({\r\n      iconUrl: imagesDir + \"c4x\" + Math.abs(Math.round(angle / 45) * 45) + \".png\",\r\n      iconAnchor: [-2, 30],\r\n      popupAnchor: [10, -10]\r\n    });\r\n    //popup = '<ion-badge>En arrt provisoire</ion-badge>'+ popup;\r\n  }\r\n  if (realTimeRecord.realTimeRecordStatus == 'VALID' && realTimeRecord.speed > 0 && realTimeRecord.ignition== true) {\r\n    icon = new Icon({\r\n      iconUrl: imagesDir + \"c1x\" + Math.abs(Math.round(angle / 45) * 45) + \".png\",\r\n      iconAnchor: [-2, 30],\r\n      popupAnchor: [10, -25]\r\n    });\r\n    //popup = '<ion-badge color=\"secondary\">En dplacement</ion-badge>' + popup;\r\n  }\r\n  if (realTimeRecord.realTimeRecordStatus == 'VALID' && realTimeRecord.speed == 0 && realTimeRecord.ignition== false) {\r\n    icon = new Icon({\r\n      iconUrl: imagesDir + \"c3x\" + Math.abs(Math.round(angle / 45) * 45) + \".png\",\r\n      iconAnchor: [-2, 30],\r\n      popupAnchor: [10, -25]\r\n    });\r\n    //popup = '<ion-badge color=\"danger\">En arrt</ion-badge>' + popup;\r\n  }\r\n  if (realTimeRecord.realTimeRecordStatus == 'NON_VALID' || realTimeRecord.realTimeRecordStatus == 'TECHNICAL_ISSUE') {\r\n    icon = new Icon({\r\n      iconUrl: imagesDir + \"c2x\" + Math.abs(Math.round(angle / 45) * 45) + \".png\",\r\n      iconAnchor: [-2, 30],\r\n      popupAnchor: [10, -25]\r\n    });\r\n    //popup = '<ion-badge color=\"dark\">En dysfonctionnement</ion-badge>' + popup;\r\n  }\r\n  realTimeRecord.icon = icon;\r\n  this.geocodingService.inverseGeoconding(realTimeRecord.coordinate.lat, realTimeRecord.coordinate.lng, 18).subscribe(adress => {\r\n    popup = popup + '<hr><b>' + adress.display_name + '</b><br>';\r\n    if (realTimeRecord.relativePosition) {\r\n      popup = popup + '<hr><center><span class=\"leaflet-pelias-layer-icon-container\"><div class=\"leaflet-pelias-layer-icon leaflet-pelias-layer-icon-point\"></div></span><strong>' + realTimeRecord.relativePosition + '</strong></center>';\r\n    }\r\n\r\n    //marker.bindPopup('popup');\r\n    \r\n\r\n    realTimeRecord.geocoding = this.getGeocoding(adress.address);\r\n    realTimeRecord.geocodingDetails = adress.display_name;\r\n    this.updateSpecificGroups(realTimeRecord);\r\n    let displaycurrentPath = false;\r\n    if (this.currentPathClickedDeviceIds != null && this.currentPathClickedDeviceIds.indexOf(realTimeRecord.idRealTimeRecord)!=-1) {\r\n      displaycurrentPath = true;\r\n      this.pathDrawn = true;\r\n    }\r\n    if(realTimeRecord.idRealTimeRecord == this.selectedDevice){\r\n  \r\n      this.mapService.removeAllRtMarkers();\r\n     \r\n    this.mapService.updateRtMarkertest(realTimeRecord.coordinate,popup,icon,realTimeRecord.idRealTimeRecord, displaycurrentPath );\r\n    if(this.pathDrawn == false && realTimeRecord.speed > 0){\r\n      this.displayCurrentPath(realTimeRecord.idRealTimeRecord);\r\n    }\r\n  }\r\n   // L.marker(L.latLng(realTimeRecord.coordinate.lat, realTimeRecord.coordinate.lng)).addTo(this.mapService.map).bindPopup(popup).setIcon(icon).on('click', () => {this.mapService.map.setView(realTimeRecord.coordinate, 8);\r\n //});\r\n\r\n    /*this.mapService.updateRtMarker({\r\n      id: realTimeRecord.idRealTimeRecord,\r\n      value: marker,\r\n      icon: icon,\r\n      angle: angle\r\n    }, displaycurrentPath);*/\r\n\r\n  }, (err) => {\r\n    let displaycurrentPath = false;\r\n    if ( this.currentPathClickedDeviceIds != null && this.currentPathClickedDeviceIds.indexOf(realTimeRecord.idRealTimeRecord)!=-1) {\r\n      displaycurrentPath = true;\r\n    }\r\n    if(realTimeRecord.idRealTimeRecord == this.selectedDevice){\r\n    marker.bindPopup(popup);\r\n    /*this.mapService.updateRtMarker({\r\n      id: realTimeRecord.idRealTimeRecord,\r\n      value: marker,\r\n      icon: icon,\r\n      angle: angle\r\n    }, displaycurrentPath);*/\r\n    this.mapService.updateRtMarkertest(realTimeRecord.coordinate,popup,icon,realTimeRecord.idRealTimeRecord, displaycurrentPath );\r\n    }\r\n  });\r\n}\r\nPipeLngLat(value: any) {\r\n  return this.pipe.transform(value, '2.2-6');\r\n}\r\nupdateSpecificGroups(realTimeRecord: RealTimeRecord) {\r\n  if (this.groups)\r\n    this.groups.forEach(group => {\r\n      if (group)\r\n        group.vehicules.forEach(vehicule => {\r\n          if (vehicule.idDevice == realTimeRecord.idRealTimeRecord)\r\n            vehicule.realTimeRecord = realTimeRecord;\r\n          \r\n        })\r\n    })\r\n}\r\n\r\n  openFormModal() {\r\n    this.mapService.removeAllRtMarkers();\r\n    let formModal = this.modalCtrl.create(HistoricalForm);\r\n    formModal.present();\r\n    formModal.onDidDismiss(form => {\r\n      if (form != null) {\r\n      //let firstDateStr = form.firstDate.split(\"-\");\r\n      //let firstDate = firstDateStr[2] + \"/\" + firstDateStr[1] + \"/\" + firstDateStr[0];\r\n      let firstDateTime = form.firstDate.getTime();\r\n      //let lastDateStr = form.lastDate.split(\"-\");\r\n     // let lastDate = lastDateStr[2] + \"/\" + lastDateStr[1] + \"/\" + lastDateStr[0];\r\n      let lastDateTime =form.lastDate.getTime();\r\n      this.loader = this.loadingCtrl.create({\r\n        content: \"Veuillez attendre...\"\r\n      });\r\n      this.loader.present();\r\n      this.allPaths = this.historicalService.getAllPaths(form.selectedDeviceId, {\r\n        startDate: firstDateTime,\r\n        endDate: lastDateTime\r\n      }).subscribe(paths => {\r\n        this.paths = paths;\r\n        if(this.paths != null)\r\n        this.paths.forEach(path => {\r\n\r\n          var date = new Date(path.beginPathTime-3600000);\r\n          var hours = date.getHours();\r\n          var minutes = \"0\" + date.getMinutes();\r\n          path.displayBeginPathTime = hours + ':' + minutes.substr(-2);\r\n\r\n          date = new Date(path.endPathTime-3600000);\r\n          hours = date.getHours();\r\n          minutes = \"0\" + date.getMinutes();\r\n          path.displayEndPathTime = hours + ':' + minutes.substr(-2);\r\n\r\n          path.beginPathGeocodingDetails = this.dataManagementService.getRelativePosition(path.beginPathLatitude, path.beginPathLongitude);\r\n          path.beginPathGeocoding = path.beginPathGeocodingDetails;\r\n          if (path.beginPathGeocodingDetails == null) {\r\n            this.dataManagementService.inverseGeoconding(path.beginPathLatitude, path.beginPathLongitude, 17).subscribe(adress => {\r\n              path.beginPathGeocoding = this.processGeocoding(adress.display_name);\r\n              if (adress.address.road != null && adress.address.neighbsourhood != null && adress.address.city != null) {\r\n                path.beginPathGeocoding = adress.address.road + ' ' + adress.address.neighbourhood + '(' + adress.address.city + ')';\r\n                path.beginPathGeocodingDetails = adress.address.road + ' ' + adress.address.neighbourhood + '(' + adress.address.city + ')';\r\n              } \r\n              /*else {\r\n                let truncatedDisplayName = adress.display_name;\r\n                let countCommas = 0;\r\n                for (var i = 0, len = adress.display_name.length; i < len; i++) {\r\n                  if (adress.display_name[i] == ',') {\r\n                    countCommas = countCommas + 1;\r\n                  } else if (countCommas >= 4) {\r\n                    truncatedDisplayName = adress.display_name.substring(0, i - 1);\r\n                    path.beginPathGeocoding = truncatedDisplayName;\r\n                    path.beginPathGeocodingDetails = path.beginPathGeocoding;\r\n                    break;\r\n                  }\r\n                }\r\n              }*/\r\n            }, (err) => {\r\n              path.beginPathGeocodingDetails = null;\r\n              path.beginPathGeocoding = null;\r\n            });\r\n          }\r\n          path.endPathGeocodingDetails = this.dataManagementService.getRelativePosition(path.endPathLatitude, path.endPathLongitude);\r\n          path.endPathGeocoding = path.endPathGeocodingDetails;\r\n          if (path.endPathGeocodingDetails == null) {\r\n            this.dataManagementService.inverseGeoconding(path.endPathLatitude, path.endPathLongitude, 17).subscribe(adress => {\r\n              path.endPathGeocoding = this.processGeocoding(adress.display_name);\r\n              if (adress.address.road != null && adress.address.neighbsourhood != null && adress.address.city != null) {\r\n                path.endPathGeocoding = adress.address.road + ' ' + adress.address.neighbourhood + '(' + adress.address.city + ')';\r\n                path.endPathGeocodingDetails = path.endPathGeocoding;\r\n              } \r\n              /*else {\r\n                let truncatedDisplayName = adress.display_name;\r\n                let countCommas = 0;\r\n                for (var i = 0, len = adress.display_name.length; i < len; i++) {\r\n                  if (adress.display_name[i] == ',') {\r\n                    countCommas = countCommas + 1;\r\n                  } else if (countCommas >= 5) {\r\n                    truncatedDisplayName = adress.display_name.substring(0, i - 1);\r\n                    path.endPathGeocoding = truncatedDisplayName;\r\n                    path.endPathGeocodingDetails = path.endPathGeocoding;\r\n                    break;\r\n                  }\r\n                }\r\n              }*/\r\n            }, (err) => {\r\n              path.endPathGeocodingDetails = null;\r\n              path.endPathGeocoding = null;\r\n            });\r\n          }\r\n        \r\n        });\r\n        this.openResultsModal();\r\n        this.loader.dismiss();\r\n      });\r\n    }\r\n    });\r\n  }\r\n\r\n  openResultsModal() {\r\n    let pathsListModal = this.modalCtrl.create(PathsList, { paths: this.paths });\r\n    pathsListModal.present();\r\n    pathsListModal.onDidDismiss(pathClicked => {\r\n      if (pathClicked != null)\r\n      this.drawPath(pathClicked);\r\n    });\r\n  }\r\n\r\n  drawPath(path: any) {\r\n    this.mapService.removePolylinesFromMap();\r\n    this.mapService.removeMarkersFromMap();\r\n    this.historicalService.getPathDetails(path.deviceId, {\r\n      startDate: path.beginPathTime,\r\n      endDate: path.endPathTime\r\n    }).subscribe(points => {\r\n      let stopMarkers: Marker[] = [];\r\n      points.stops.forEach(stop => {\r\n        let popup = \"<img src='\" + imagesDir + \"stop_smal.png\" + \"'/> Dure d'arrt : \" + stop.stopDurationStr;\r\n        /*let stopMarker = new Marker({\r\n          lat: stop.stopLatitude,\r\n          lng: stop.stopLongitude\r\n        });*/\r\n        let stopMarker = L.marker({lat : stop.stopLatitude, lng: stop.stopLongitude});\r\n        stopMarker.addTo(this.mapService.map);\r\n        stopMarker.on('click', () => {this.mapService.map.setView({lat : stop.stopLatitude, lng: stop.stopLongitude}, 14);});\r\n        this.dataManagementService.inverseGeoconding(stop.stopLatitude, stop.stopLongitude, 18).subscribe(adress => {\r\n          let truncatedDisplayName = adress.display_name;\r\n          let countCommas = 0;\r\n          for (var i = 0, len = adress.display_name.length; i < len; i++) {\r\n            if (adress.display_name[i] == ',') {\r\n              countCommas = countCommas + 1;\r\n            } else if (countCommas >= 5) {\r\n              truncatedDisplayName = adress.display_name.substring(0, i - 1);\r\n              break;\r\n            }\r\n          }\r\n          popup = popup + '<br><hr><b>' + truncatedDisplayName + '</b>';\r\n          stopMarker.bindPopup(popup);\r\n        });\r\n        stopMarker.setIcon(new Icon({\r\n          iconUrl: imagesDir + \"stop_smal.png\",\r\n          iconAnchor: [-2, 30],\r\n          popupAnchor: [10, -25]\r\n        }));\r\n        this.mapService.addMarker(stopMarker);\r\n      });\r\n      let polyline = L.polyline(points.coordinates, { color: '#0031D9', weight: 3 });\r\n      points.coordinates.forEach((coordinate, i) => {\r\n        let marker = L.marker(coordinate);\r\n        \r\n        if (i != 0 && i != points.coordinates.length - 1) {\r\n          marker.setIcon(new Icon({\r\n            iconUrl: imagesDir + \"green-point.png\",\r\n            iconAnchor: [2, 2]\r\n          }));\r\n          var pointDatePipe = new DatePipe(coordinate.date);\r\n          let popup = '<b>Heure:</b> ' + pointDatePipe.transform(coordinate.date, 'dd/MM/yyyy HH:mm:ss') + '<b><br>vitesse:</b> ' + coordinate.speed + ' Km/h';\r\n          marker.bindPopup(popup);\r\n          marker.on('click', () => {\r\n            this.mapService.map.setView(coordinate, 17);\r\n          });\r\n          this.mapService.addMarker(marker);\r\n        }\r\n      });\r\n      let startMarker = L.marker({ lat: path.beginPathLatitude, lng: path.beginPathLongitude });\r\n      let startTime: any = path.beginPathTime;\r\n      var startDatePipe = new DatePipe(startTime);\r\n      startMarker.bindPopup('<b> Lieu de dbut: </b>' + path.beginPathGeocoding +'<b></i><br>Temps de dbut du trajet : </b>' + startDatePipe.transform(startTime, 'dd/MM/yyyy HH:mm:ss'));\r\n      startMarker.setIcon(new Icon({\r\n        iconUrl: imagesDir + \"startMarker.png\",\r\n        iconAnchor: [-2, 30],\r\n        popupAnchor: [10, -25]\r\n      }));\r\n      this.mapService.addMarker(startMarker);\r\n      if (path.endPathLatitude != null && path.endPathLongitude != null && path.endPathTime != null) {\r\n        var endMarker = L.marker({ lat: path.endPathLatitude, lng: path.endPathLongitude });\r\n        let endTime: any = path.endPathTime;\r\n        var endDatePipe = new DatePipe(endTime);\r\n        endMarker.bindPopup('<b> Lieu de fin: </b>' + path.endPathGeocoding +'<br><b>Temps de fin du trajet : </b>' + endDatePipe.transform(endTime, 'dd/MM/yyyy HH:mm:ss')\r\n                    + '<br><b> Dure du trajet : </b>' + path.pathDurationStr + \"<br><b> Dure d'arrt : </b>\" + path.nextStopDurationStr + \"<br><b> Vitesse maximum : </b>\"\r\n                    + path.maxSpeed + \" Km/h <br><b> Kilometrage parcouru : </b>\" + path.distanceDriven.toFixed(2) + ' Km'\r\n);\r\n        endMarker.setIcon(new Icon({\r\n          iconUrl: imagesDir + \"endMarker.png\",\r\n          iconAnchor: [-2, 30],\r\n          popupAnchor: [10, -25]\r\n        }));\r\n        this.mapService.addMarker(endMarker);\r\n      }\r\n      this.mapService.addPolyline(polyline);\r\n      var middle = points.coordinates[Math.round((points.coordinates.length - 1) / 2)];\r\n      this.mapService.map.setView(middle, 12);\r\n    });\r\n  }\r\n  displayCurrentPath(deviceId: number) {\r\n    \r\n    this.realTimeService.getCurrentPath(deviceId).subscribe(currentPath => {\r\n\r\n        if (currentPath != null) {\r\n            let polyline = L.polyline(currentPath.coordinates, {color: '#0031D9', weight: 3});\r\n            currentPath.coordinates.forEach((coordinate, i) => {\r\n                let marker = new Marker(coordinate);\r\n                if (i != 0 && i != currentPath.coordinates.length - 1) {\r\n                    marker.setIcon(new Icon({\r\n                        iconUrl: imagesDir + \"green-point.png\",\r\n                        iconAnchor: [2, 2]\r\n                    }));\r\n                    this.mapService.addMarker(marker);\r\n                }\r\n            });\r\n  \r\n            let startMarker = L.marker({lat : currentPath.beginPathLatitude, lng: currentPath.beginPathLongitude});\r\n            startMarker.setIcon(new Icon({\r\n                iconUrl: imagesDir + \"startMarker.png\",\r\n                iconAnchor: [-2, 30],\r\n                popupAnchor: [10, -25]\r\n            }));\r\n            startMarker.on('click', () => {this.mapService.map.setView({lat : currentPath.beginPathLatitude, lng: currentPath.beginPathLongitude}, 14);});\r\n            this.mapService.addMarker(startMarker);\r\n            this.mapService.addPolyline(polyline);\r\n            this.pathDrawn = true;\r\n        }\r\n        this.previousPathdrawn = true;\r\n    }, (err) => {\r\n      this.previousPathdrawn = false;\r\n    });\r\n  }\r\n  ionViewDidLoad() {\r\n  \r\n  }\r\n\r\n  processGeocoding(geocoding: string): string{\r\n    if (geocoding != null){\r\n      let array = geocoding.split(',',3);\r\n      let smallerGeocoding = '';\r\n      array.forEach(word => {\r\n        smallerGeocoding = smallerGeocoding + ', ' + word;\r\n      });\r\n      smallerGeocoding = smallerGeocoding.slice(2,smallerGeocoding.length);      \r\n      return smallerGeocoding;\r\n    }else \r\n    return null; \r\n  }\r\n  logout() : void {\r\n    this.storage.set('username' , null);\r\n    this.storage.set('password', null);\r\n   \r\n    this.navCtrl.setRoot(HomePage);\r\n    this.navCtrl.popToRoot();         \r\n       }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/historical/historical.ts","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Map } from 'leaflet';\r\nimport 'leaflet';\r\nimport Marker = L.Marker;\r\nimport Icon = L.Icon;\r\nimport LatLngExpression = L.LatLngExpression;\r\nimport FeatureGroup = L.FeatureGroup;\r\nimport Polygon = L.Polygon;\r\nimport Polyline = L.Polyline;\r\nimport CircleMarker = L.CircleMarker;\r\nimport Circle = L.Circle;\r\nimport { RtMarker, newRtMarker } from \"./marker\";\r\nimport { imagesDir } from \"../providers/global.config\";\r\n\r\n@Injectable()\r\nexport class MapService {\r\n\r\n    public map: Map;\r\n    public baseMaps: any;\r\n\r\n    public drawnItems: FeatureGroup;\r\n\r\n    public mapLoaded: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n    public markerWasAdded: EventEmitter<any> = new EventEmitter<any>();\r\n    public markerWasEdited: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    public polygons: Polygon[] = [];\r\n    public markers: Marker[] = [];\r\n    public polylines: Polyline[] = [];\r\n    public circles: Circle[] = [];\r\n    public newRtMarkers: newRtMarker[] = [];\r\n    public rtMarkers: RtMarker[] = [];\r\n\r\n    public markersPoi: Marker[] = [];\r\n    public polygonsPoi: Polygon[] = [];\r\n\r\n    constructor() {\r\n        this.baseMaps = {\r\n            googlehybride: L.tileLayer('http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}', {\r\n                maxZoom: 20,\r\n                subdomains: ['mt0', 'mt1', 'mt2', 'mt3']\r\n                })\r\n           /* RimTelecom: L.tileLayer(\"https://api.mapbox.com/styles/v1/aminehn/ciycvpk1800e42rool43biorb/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiYW1pbmVobiIsImEiOiJjaXg5M2FuYmwwMDN0Mm9udTNtbm10MmF2In0.TCtNRI8pQSawNt927GPoDg\", {\r\n                attribution: '&copy; Rimtelecom map',\r\n                id: 'mapbox.streets',\r\n                maxZoom: 20,\r\n                maxNativeZoom: 17,\r\n                accessToken: 'pk.eyJ1IjoiYW1pbmVobiIsImEiOiJjaXg5M2FuYmwwMDN0Mm9udTNtbm10MmF2In0.TCtNRI8pQSawNt927GPoDg'\r\n            })/*,\r\n            OpenStreetMap: L.tileLayer(\"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\", {\r\n                maxZoom: 20,\r\n                maxNativeZoom: 17,\r\n                attribution: '&copy; <a href=\"rimtelecom.ma\">Rim telecom</a>, Tiles courtesy of <a href=\"http://hot.openstreetmap.org/\" target=\"_blank\">Humanitarian OpenStreetMap Team</a>'\r\n            }),\r\n            Esri: L.tileLayer(\"http://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}\", {\r\n                attribution: 'Rimtelecom'\r\n            }),\r\n            CartoDB: L.tileLayer(\"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\", {\r\n                maxZoom: 20,\r\n                maxNativeZoom: 17,\r\n                attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> &copy; <a href=\"http://cartodb.com/attributions\">CartoDB</a>'\r\n            }),\r\n            Esri_WorldImagery: L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {\r\n                maxZoom: 20,\r\n                maxNativeZoom: 17,\r\n                attribution: 'Rimtelecom'\r\n            })*/\r\n        };\r\n    }\r\n\r\n    reload(){\r\n        //google.maps.event.trigger(this.map,'resize');\r\n    }\r\n\r\n    addRtMarker(rtMarker: RtMarker) {\r\n        rtMarker.value.setIcon(rtMarker.icon);\r\n        this.rtMarkers.push(rtMarker);\r\n        rtMarker.value.addTo(this.map);\r\n    }\r\n\r\n    updateRtMarkertest(coordinate: any,popup: any,icon: any,id: any,isCurrentPathClicked: boolean) {\r\n        //tester si la liste est vide\r\n        //si oui \r\n        \r\n        if(this.newRtMarkers == null || this.newRtMarkers.length == 0){\r\n        let marker = L.marker(L.latLng(coordinate.lat, coordinate.lng));\r\n        marker.addTo(this.map);\r\n        marker.bindPopup(popup);\r\n        marker.setIcon(icon);\r\n        marker.on('click', () => {this.map.setView(coordinate, 14);});\r\n        this.newRtMarkers.push({id: id ,marker: marker});\r\n    }  else {\r\n                this.newRtMarkers.map(rt => {\r\n            if (rt.id == id) {\r\n               //rt.marker.remove();\r\n            this.newRtMarkers.splice(this.newRtMarkers.indexOf(rt),1);\r\n            rt.marker.setLatLng(coordinate);\r\n            rt.marker.setIcon(icon);\r\n            rt.marker.getPopup().setContent(popup);\r\n            if(isCurrentPathClicked == true)\r\n                {let marker = L.marker(L.latLng(coordinate.lat, coordinate.lng));\r\n                    marker.setIcon(new Icon({\r\n                        iconUrl: imagesDir + \"green-point.png\",\r\n                        iconAnchor: [2, 2]\r\n                    }));\r\n                    this.addMarker(marker);\r\n                    let points = [];\r\n                    points.push(rt.marker.getLatLng())\r\n                    points.push(coordinate.value.getLatLng());\r\n                    let polyline = L.polyline(points, { color: '#0031D9', weight: 3 });\r\n                    this.addPolyline(polyline);\r\n                }\r\n            }\r\n            });\r\n    }\r\n\r\n    }\r\n\r\n    updateRtMarker(rtMarker: RtMarker, isCurrentPathClicked: boolean) {\r\n        let ok: boolean = false;\r\n        this.rtMarkers.map(rt => {\r\n            if (rt.id == rtMarker.id) {\r\n                if (isCurrentPathClicked == true) {\r\n                    let marker = new Marker(rt.value.getLatLng());\r\n                    marker.setIcon(new Icon({\r\n                        iconUrl: imagesDir + \"green-point.png\",\r\n                        iconAnchor: [2, 2]\r\n                    }));\r\n                    /*marker.on('click', () => {\r\n                        this.map.setView(rt.value.getLatLng(), 17);\r\n                    });*/\r\n                    this.addMarker(marker);\r\n                    let points = [];\r\n                    points.push(rt.value.getLatLng())\r\n                    points.push(rtMarker.value.getLatLng());\r\n                    let polyline = L.polyline(points, { color: '#0031D9', weight: 3 });\r\n                    this.addPolyline(polyline);\r\n                }\r\n                rt.value.setLatLng(rtMarker.value.getLatLng());\r\n                //rt.value.getPopup().setContent(rtMarker.value.getPopup().getContent());\r\n                /*rt.value.on('click', () => {\r\n                    this.map.setView(rtMarker.value.getLatLng(), 16);\r\n                });*/\r\n                rt.value.options.rotationAngle = rtMarker.angle;\r\n                /*rt.value.setIcon(rtMarker.icon);*/\r\n                ok = true;\r\n            }\r\n        });\r\n        if (!ok) {\r\n            rtMarker.value.setIcon(rtMarker.icon);\r\n            this.rtMarkers.push(rtMarker);\r\n            rtMarker.value.addTo(this.map);\r\n        }\r\n    } \r\n\r\n    removeAllRtMarkers() {\r\n        this.newRtMarkers.forEach(m => {\r\n            this.map.removeLayer(m.marker);\r\n        });\r\n        this.newRtMarkers = [];\r\n    }\r\n\r\n    setView(coordinate: any) {\r\n        this.map.setView(coordinate, 15);\r\n    }\r\n\r\n    addCircle(circle: Circle) {\r\n        this.circles.push(circle);\r\n        circle.addTo(this.map);\r\n    }\r\n\r\n    removeCirclesFromMap() {\r\n        this.circles.forEach(m => {\r\n            this.map.removeLayer(m);\r\n        });\r\n        this.circles = [];\r\n    }\r\n\r\n    addMarker(marker: Marker) {\r\n        this.markers.push(marker);\r\n        marker.addTo(this.map);\r\n    }\r\n\r\n    addMarkerPoi(marker: Marker) {\r\n        this.markersPoi.push(marker);\r\n        marker.addTo(this.map);\r\n    }\r\n\r\n    removeMarkersPoiFromMap() {\r\n        this.markersPoi.forEach(m => {\r\n            this.map.removeLayer(m);\r\n        });\r\n        this.markersPoi = [];\r\n    }\r\n\r\n    removeMarker(index: number) {\r\n        this.map.removeLayer(this.markers[index]);\r\n        delete this.markers[index];\r\n    }\r\n\r\n    addMarkersToMap() {\r\n        this.markers.forEach(marker => {\r\n            marker.addTo(this.map);\r\n        })\r\n    }\r\n\r\n    removeMarkersFromMap() {\r\n        this.markers.forEach(m => {\r\n            this.map.removeLayer(m);\r\n        });\r\n        this.markers = [];\r\n    }\r\n\r\n    addPolyline(polyline: Polyline) {\r\n        this.polylines.push(polyline);\r\n        polyline.addTo(this.map);\r\n    }\r\n\r\n    removePolylinesFromMap() {\r\n        this.polylines.forEach(m => {\r\n            this.map.removeLayer(m);\r\n        });\r\n        this.polylines = [];\r\n    }\r\n\r\n    addPolygon(polygon: Polygon) {\r\n        this.polygons.push(polygon);\r\n        polygon.addTo(this.map);\r\n    }\r\n\r\n    addPolygonPoi(polygon: Polygon) {\r\n        this.polygonsPoi.push(polygon);\r\n        polygon.addTo(this.map);\r\n    }\r\n\r\n\r\n\r\n    removePolygon(index: number) {\r\n        //this.map.removeLayer(this.polygons[index]);\r\n        delete this.polygons[index];\r\n    }\r\n\r\n    addPolygonsToMap() {\r\n        this.polygons.forEach(Polygon => {\r\n            Polygon.addTo(this.map);\r\n        })\r\n    }\r\n\r\n    removePolygonsFromMap() {\r\n        this.polygons.forEach(m => {\r\n            this.map.removeLayer(m);\r\n        });\r\n        this.polygons = [];\r\n    }\r\n\r\n    removePolygonsPoiFromMap() {\r\n        this.polygonsPoi.forEach(m => {\r\n            this.map.removeLayer(m);\r\n        });\r\n        this.polygonsPoi = [];\r\n    }\r\n\r\n    resetMap() {\r\n        this.removeMarkersFromMap();\r\n        this.removePolygonsFromMap();\r\n        this.removePolylinesFromMap();\r\n    }\r\n\r\n    disableMouseEvent(elementId: string) {\r\n        let element = <HTMLElement>document.getElementById(elementId);\r\n        L.DomEvent.disableClickPropagation(element);\r\n        L.DomEvent.disableScrollPropagation(element);\r\n    };\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/map.service.ts","import {Injectable} from '@angular/core';\r\nimport {Http} from \"@angular/http\";\r\nimport {Subscription} from \"rxjs\";\r\nimport {Observable} from \"rxjs\";\r\nimport { dns,nominatim_dns } from \"../providers/global.config\";\r\n@Injectable()\r\nexport class GeocodingService {\r\n\r\n    geocodingSubscription: Subscription;\r\n    token: string;\r\n    \r\n    constructor(private _http: Http) {\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2) {\r\n        var p = 0.017453292519943295;    // Math.PI / 180\r\n        var c = Math.cos;\r\n        var a = 0.5 - c((lat2 - lat1) * p) / 2 +\r\n            c(lat1 * p) * c(lat2 * p) *\r\n            (1 - c((lon2 - lon1) * p)) / 2;\r\n        var distance = 12742 * Math.asin(Math.sqrt(a));\r\n        return distance;\r\n    }\r\n\r\n    inverseGeoconding(latitude: number, longitude: number, zoom: number): Observable<any> {\r\n        return this._http.get(nominatim_dns + '/reverse.php?format=json&lat=' + latitude + '&lon=' + longitude + '&zoom=' + zoom + '&accept-language=fr&addressdetails=1').map(res => res.json());\r\n    }\r\n\r\n    getMyIpAdress(): Observable<{ip: string}> {\r\n        return this._http.get('http://api.ipify.org/?format=json').map(res => res.json());\r\n    }\r\n\r\n    getMyLocation(ip: string) {\r\n        return this._http.get('freegeoip.net/json/' + ip).map(res => res.json());\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/geocoding.service.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ToastController,ModalController,ViewController  } from 'ionic-angular';\r\nimport { RealTimeService } from '../../providers/real-time.service';\r\nimport { Subscription } from \"rxjs\";\r\n\r\n\r\n@Component({\r\n  selector: 'page-groups-page',\r\n  templateUrl: 'groups-page.html',\r\n})\r\nexport class GroupsPage {\r\n  allGroups: Subscription;\r\n  groups: any[];\r\n  selectedDevice: number;\r\n  searchWord : string;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public realTimeService: RealTimeService) {\r\n    this.groups = navParams.get('groups');\r\n    //this.groups = this.processGroups(this.groups);\r\n  }\r\n\r\n /* processGroups(groups: any){\r\n    groups.forEach(group => {\r\n      \r\n    });\r\n    return groups;\r\n  }*/\r\n\r\n  closeModal(){\r\n    this.viewCtrl.dismiss(this.selectedDevice);\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad GroupsPage');\r\n  }\r\n\r\n  searchGroup(){\r\nthis.allGroups = this.realTimeService.getAllGroups(this.searchWord).subscribe(groupes => {\r\n      this.groups = groupes;\r\n      console.log(this.groups);\r\n    });\r\n  }\r\n\r\n  goToRealTimeRecord(deviceId: number){\r\n    this.selectedDevice = deviceId;\r\n    this.viewCtrl.dismiss(this.selectedDevice);\r\n  }\r\n\r\n  startEngine(){\r\n    console.log(\"startEngine\");\r\n  }\r\n\r\n  stopEngine(){\r\n    console.log(\"stopEngine\");\r\n  }\r\n\r\n  displayTodaysMileage(){\r\n    console.log(\"displayTodaysMileage\");\r\n  }\r\n\r\n  displayCurrentPath(){\r\n    console.log(\"displayCurrentPath\");\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/groups-page/groups-page.ts","import { HomePage } from './../home/home';\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams, ToastController, ModalController,App } from 'ionic-angular';\r\nimport { MapService } from \"../../utils/map.service\";\r\nimport { DecimalPipe} from \"@angular/common\";\r\nimport { RealTimeService } from '../../providers/real-time.service';\r\nimport { DataManagementService } from '../../providers/data-management.service';\r\nimport { GeocodingService } from '../../utils/geocoding.service';\r\nimport { RealTimeRecord, Group, Vehicule } from \"../../objects/real-time\";\r\nimport { GroupsPage } from '../groups-page/groups-page';\r\nimport { Subscription } from \"rxjs\";\r\nimport { imagesDir } from \"../../providers/global.config\";\r\nimport Marker = L.Marker;\r\nimport Icon = L.Icon;\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'leaflet';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n\r\n@Component({\r\n  selector: 'page-real-time',\r\n  templateUrl: 'real-time.html',\r\n})\r\nexport class RealTime {\r\n  allGroups: Subscription;\r\n  allRealTimeRecords: Subscription;\r\n  groups: Group[];\r\n  searchWord: string = '';\r\n  newRealTimeRecords: RealTimeRecord[] = null;\r\n  oldRealTimeRecords: RealTimeRecord[] = null;\r\n  angles: Map<number, number> = new Map();\r\n  isCurrentPathClicked: boolean = false;\r\n  pathDrawn: boolean = false;\r\n  previousPathdrawn: boolean = false;\r\n  currentPathClickedDeviceIds: number[] = null;\r\n  selectedDevice : any;\r\n  username : string;\r\n  password : string;\r\n  constructor(private storage : Storage, private pipe: DecimalPipe,public modalCtrl: ModalController,public _app : App, private geocodingService: GeocodingService, private dataManagementService: DataManagementService, private toastController: ToastController, private realTimeService: RealTimeService, public navCtrl: NavController, public navParams: NavParams, public mapService: MapService) {\r\n        this.username = window.localStorage.getItem('username');\r\n        this.password = window.localStorage.getItem('mdp');\r\n  }\r\n  ngOnInit() {\r\n    this.initMap();\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n  this.init();\r\n  }\r\n  \r\n  init() {\r\n\r\n    this.mapService.removeAllRtMarkers();\r\n    this.loadGroups();\r\n    Observable.interval(1000 * 60).subscribe(x => {\r\n      this.getAllRealTimeRecords();\r\n    });\r\n  }\r\n  initMap() {\r\n    if (this.mapService.map) this.mapService.map.remove();\r\n    let map = L.map('map', {\r\n      zoomControl: false,\r\n      center: L.latLng(32.586163, -9.912118),\r\n      zoom: 6,\r\n      minZoom: 3,\r\n      maxZoom: 20,\r\n      maxNativeZoom: 17,\r\n      layers: [this.mapService.baseMaps.googlehybride]\r\n    });\r\n    L.control.zoom({ position: 'topright' }).addTo(map);\r\n    this.mapService.map = map;\r\n  }\r\n  openGroupsModal() {\r\n    let groupModal = this.modalCtrl.create(GroupsPage, { groups: this.groups });\r\n    groupModal.present();\r\n    groupModal.onDidDismiss(selectedDevice => {\r\n      if (selectedDevice != null && selectedDevice != 0 && selectedDevice != this.selectedDevice) {\r\n        this.mapService.removeAllRtMarkers();\r\n        this.clearPolylines();\r\n        this.selectedDevice = selectedDevice;\r\n        this.goToRealTimeRecord(selectedDevice);\r\n\r\n      }\r\n    });\r\n  }\r\n  loadGroups() {\r\n    this.allGroups = this.realTimeService.getAllGroups(this.searchWord).subscribe(groupes => {\r\n      this.groups = groupes;\r\n      this.openGroupsModal();\r\n      this.groups.forEach(group => {\r\n        group.vehicules.forEach(vehicule => {\r\n          vehicule.realTimeRecord = new RealTimeRecord();\r\n          this.getAllRealTimeRecords();\r\n        })\r\n      });\r\n    });\r\n  }\r\n   searchGroup(any) {\r\n        this.loadGroups();\r\n  }\r\n\r\n\r\n  goToRealTimeRecord(idRealTimeRecord: number) {\r\n    this.newRealTimeRecords.forEach(realTimeRecord => {\r\n\r\n      if (realTimeRecord.idRealTimeRecord == idRealTimeRecord) {\r\n        //this.clearPolylines();\r\n        this.mapService.map.setView(realTimeRecord.coordinate, 15);\r\n        this.trackRealTimeRecord(realTimeRecord);\r\n       \r\n      }\r\n    });\r\n  }\r\n\r\n  getAllRealTimeRecords() {\r\n    this.allRealTimeRecords = this.realTimeService.getAllRealTimeRecords().subscribe(realTimeRecords => {\r\n      if (this.newRealTimeRecords) {\r\n        this.oldRealTimeRecords = this.newRealTimeRecords;\r\n      }\r\n      this.newRealTimeRecords = realTimeRecords;\r\n      realTimeRecords.forEach(realTimeRecord => {\r\n        realTimeRecord.vehicule = this.getVehicule(realTimeRecord.idRealTimeRecord);\r\n        this.trackRealTimeRecord(realTimeRecord);\r\n\r\n        if (this.oldRealTimeRecords) {\r\n          this.oldRealTimeRecords.map(oldRealTimeRecord => {\r\n            if (oldRealTimeRecord.idRealTimeRecord === realTimeRecord.idRealTimeRecord) {\r\n              if (realTimeRecord.speed > 0 && this.previousPathdrawn == false && realTimeRecord.idRealTimeRecord == this.selectedDevice) {\r\n                this.displayCurrentPath(realTimeRecord.idRealTimeRecord);\r\n              }\r\n              if (oldRealTimeRecord.speed == 0 && realTimeRecord.speed > 0) {\r\n                let toast = this.toastController.create({\r\n                  message: realTimeRecord.mark + '  dmarr !',\r\n                  duration: 2000,\r\n                  position: 'top'\r\n                });\r\n                toast.present();\r\n                this.isCurrentPathClicked = true;\r\n                if(this.currentPathClickedDeviceIds != null)\r\n                this.currentPathClickedDeviceIds.push(realTimeRecord.idRealTimeRecord);\r\n                if(this.previousPathdrawn == false && realTimeRecord.idRealTimeRecord == this.selectedDevice){\r\n                  this.displayCurrentPath(realTimeRecord.idRealTimeRecord);\r\n                }\r\n              }\r\n              if ((oldRealTimeRecord.speed > 0 && realTimeRecord.speed == 0) && realTimeRecord.ignition == true) {\r\n                let toast = this.toastController.create({\r\n                  message: realTimeRecord.vehicule.mark + \" s'est arrt provisoirement!\",\r\n                  duration: 2000,\r\n                  position: 'top'\r\n                });\r\n                toast.present();\r\n              }\r\n              if ((oldRealTimeRecord.speed > 0 && realTimeRecord.speed == 0) && realTimeRecord.ignition == false) {\r\n                let toast = this.toastController.create({\r\n                  message: realTimeRecord.vehicule.mark + \" s'est arrt!\",\r\n                  duration: 2000,\r\n                  position: 'top'\r\n                });\r\n                toast.present();\r\n                this.isCurrentPathClicked = false;\r\n                this.currentPathClickedDeviceIds = null;\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n    });\r\n  }\r\n  trackRealTimeRecord(realTimeRecord: RealTimeRecord) {\r\n    let angle = 0;\r\n    var date = new Date(realTimeRecord.recordTime);\r\n    var minutes = date.getMinutes() + \"\";\r\n    if (minutes.length == 1) {\r\n      minutes = \"0\" + date.getMinutes();\r\n    }\r\n    let icon;\r\n    let marker;\r\n    let popup;\r\n    if (!this.dataManagementService.pointInterests) {\r\n      this.dataManagementService.getAllPointInterests().subscribe(pointInterests => {\r\n        this.dataManagementService.pointInterests = pointInterests;\r\n        realTimeRecord.relativePosition = this.dataManagementService.getRelativePosition(realTimeRecord.coordinate.lat, realTimeRecord.coordinate.lng);\r\n      })\r\n    }\r\n    else {\r\n      realTimeRecord.relativePosition = this.dataManagementService.getRelativePosition(realTimeRecord.coordinate.lat, realTimeRecord.coordinate.lng);\r\n    }\r\n     if (realTimeRecord.type === \"AA\") {\r\n      angle = realTimeRecord.rotationAngle * 8;\r\n    }\r\n    if (this.oldRealTimeRecords && realTimeRecord.type === \"GPRMC\") {\r\n      let oldRealTimeRecord = this.getOldRealTimeRecord(realTimeRecord.idRealTimeRecord);\r\n      if (oldRealTimeRecord) {\r\n        if (!this.compareTwoCoordinate(oldRealTimeRecord.coordinate, realTimeRecord.coordinate)) {\r\n          angle = Math.atan2(realTimeRecord.coordinate.lng - oldRealTimeRecord.coordinate.lng, realTimeRecord.coordinate.lat - oldRealTimeRecord.coordinate.lat) * 180 / Math.PI;\r\n          this.angles.set(realTimeRecord.idRealTimeRecord, angle);\r\n        } else {\r\n          angle = this.angles.get(realTimeRecord.idRealTimeRecord);\r\n        }\r\n      }\r\n\r\n    }\r\n    popup = '<b>Chauffeur:</b> ' + this.dataManagementService.getDriverName(realTimeRecord.vehicule.driver) +\r\n    '<br><b>Matricule:</b> ' + realTimeRecord.vehicule.matricule +\r\n    '<br><b>Mark:</b> ' + realTimeRecord.vehicule.mark +\r\n    '<br><b>Lat,Lng:</b><i> [' + this.PipeLngLat(realTimeRecord.coordinate.lat) + ',' + this.PipeLngLat(realTimeRecord.coordinate.lng) + ']</i><br><b>Vitesse :</b>' + realTimeRecord.speed +\r\n    \"<br><b>date et l'heure:</b> \" + (date.getMonth() + 1) + '/' + date.getDate() + '/' + date.getFullYear() + ' ' + date.getHours() + ':' + minutes +\r\n    \"<br><b>Signal GSM:</b> \" + realTimeRecord.signal +\r\n    \" <i class='fa fa-wifi' aria-hidden='true'></i><br><b>Sat en vue:</b> \" + realTimeRecord.satInView + \" <i class='fa fa-globe' aria-hidden='true'></i>\";\r\n\r\n    marker = new Marker(realTimeRecord.coordinate, {\r\n      rotationAngle: angle\r\n    });\r\n     // marker.bindPopup(\"salut\")\r\n    if (realTimeRecord.realTimeRecordStatus == 'VALID' && realTimeRecord.speed == 0 && realTimeRecord.ignition== true) {\r\n      icon = new Icon({\r\n        iconUrl: imagesDir + \"c4x\" + Math.abs(Math.round(angle / 45) * 45) + \".png\",\r\n        iconAnchor: [-2, 30],\r\n        popupAnchor: [10, -10]\r\n      });\r\n      //popup = '<ion-badge>En arrt provisoire</ion-badge>'+ popup;\r\n    }\r\n    if (realTimeRecord.realTimeRecordStatus == 'VALID' && realTimeRecord.speed > 0 && realTimeRecord.ignition== true) {\r\n      icon = new Icon({\r\n        iconUrl: imagesDir + \"c1x\" + Math.abs(Math.round(angle / 45) * 45) + \".png\",\r\n        iconAnchor: [-2, 30],\r\n        popupAnchor: [10, -25]\r\n      });\r\n      //popup = '<ion-badge color=\"secondary\">En dplacement</ion-badge>' + popup;\r\n    }\r\n    if (realTimeRecord.realTimeRecordStatus == 'VALID' && realTimeRecord.speed == 0 && realTimeRecord.ignition== false) {\r\n      icon = new Icon({\r\n        iconUrl: imagesDir + \"c3x\" + Math.abs(Math.round(angle / 45) * 45) + \".png\",\r\n        iconAnchor: [-2, 30],\r\n        popupAnchor: [10, -25]\r\n      });\r\n      //popup = '<ion-badge color=\"danger\">En arrt</ion-badge>' + popup;\r\n    }\r\n    if (realTimeRecord.realTimeRecordStatus == 'NON_VALID' || realTimeRecord.realTimeRecordStatus == 'TECHNICAL_ISSUE') {\r\n      icon = new Icon({\r\n        iconUrl: imagesDir + \"c2x\" + Math.abs(Math.round(angle / 45) * 45) + \".png\",\r\n        iconAnchor: [-2, 30],\r\n        popupAnchor: [10, -25]\r\n      });\r\n      //popup = '<ion-badge color=\"dark\">En dysfonctionnement</ion-badge>' + popup;\r\n    }\r\n    realTimeRecord.icon = icon;\r\n    this.geocodingService.inverseGeoconding(realTimeRecord.coordinate.lat, realTimeRecord.coordinate.lng, 18).subscribe(adress => {\r\n      popup = popup + '<hr><b>' + adress.display_name + '</b><br>';\r\n      if (realTimeRecord.relativePosition) {\r\n        popup = popup + '<hr><center><span class=\"leaflet-pelias-layer-icon-container\"><div class=\"leaflet-pelias-layer-icon leaflet-pelias-layer-icon-point\"></div></span><strong>' + realTimeRecord.relativePosition + '</strong></center>';\r\n      }\r\n\r\n      //marker.bindPopup('popup');\r\n      \r\n\r\n      realTimeRecord.geocoding = this.getGeocoding(adress.address);\r\n      realTimeRecord.geocodingDetails = adress.display_name;\r\n      this.updateSpecificGroups(realTimeRecord);\r\n      let displaycurrentPath = false;\r\n      if (this.currentPathClickedDeviceIds != null && this.currentPathClickedDeviceIds.indexOf(realTimeRecord.idRealTimeRecord)!=-1) {\r\n        displaycurrentPath = true;\r\n        this.pathDrawn = true;\r\n      }\r\n      if(realTimeRecord.idRealTimeRecord == this.selectedDevice){\r\n       \r\n        this.mapService.removeAllRtMarkers();\r\n       \r\n      this.mapService.updateRtMarkertest(realTimeRecord.coordinate,popup,icon,realTimeRecord.idRealTimeRecord, displaycurrentPath );\r\n      if(this.pathDrawn == false && realTimeRecord.speed > 0){\r\n        this.displayCurrentPath(realTimeRecord.idRealTimeRecord);\r\n      }\r\n    }\r\n     // L.marker(L.latLng(realTimeRecord.coordinate.lat, realTimeRecord.coordinate.lng)).addTo(this.mapService.map).bindPopup(popup).setIcon(icon).on('click', () => {this.mapService.map.setView(realTimeRecord.coordinate, 8);\r\n   //});\r\n\r\n      /*this.mapService.updateRtMarker({\r\n        id: realTimeRecord.idRealTimeRecord,\r\n        value: marker,\r\n        icon: icon,\r\n        angle: angle\r\n      }, displaycurrentPath);*/\r\n\r\n    }, (err) => {\r\n      let displaycurrentPath = false;\r\n      if ( this.currentPathClickedDeviceIds != null && this.currentPathClickedDeviceIds.indexOf(realTimeRecord.idRealTimeRecord)!=-1) {\r\n        displaycurrentPath = true;\r\n      }\r\n      if(realTimeRecord.idRealTimeRecord == this.selectedDevice){\r\n      marker.bindPopup(popup);\r\n      /*this.mapService.updateRtMarker({\r\n        id: realTimeRecord.idRealTimeRecord,\r\n        value: marker,\r\n        icon: icon,\r\n        angle: angle\r\n      }, displaycurrentPath);*/\r\n      this.mapService.updateRtMarkertest(realTimeRecord.coordinate,popup,icon,realTimeRecord.idRealTimeRecord, displaycurrentPath );\r\n      }\r\n    });\r\n  }\r\n\r\n  updateSpecificGroups(realTimeRecord: RealTimeRecord) {\r\n    if (this.groups)\r\n      this.groups.forEach(group => {\r\n        if (group)\r\n          group.vehicules.forEach(vehicule => {\r\n            if (vehicule.idDevice == realTimeRecord.idRealTimeRecord)\r\n              vehicule.realTimeRecord = realTimeRecord;\r\n           \r\n          })\r\n      })\r\n  }\r\n\r\n  getOldRealTimeRecord(id: number): RealTimeRecord {\r\n    let result = this.oldRealTimeRecords.filter(rt => {\r\n      return rt.idRealTimeRecord == id;\r\n    });\r\n    if (result) return result[0];\r\n    else return null;\r\n  }\r\n\r\n  compareTwoCoordinate(p1, p2) {\r\n    if (p1.lat == p2.lat && p1.lng == p2.lng) return true;\r\n    else false;\r\n  }\r\n\r\n  getGeocoding(address: any): string {\r\n    let geocoding: string = null;\r\n    if (address) {\r\n      if (address.road != null) {\r\n        geocoding = address.road;\r\n      }\r\n      if (address.neighbourhood != null) {\r\n        geocoding = geocoding ? geocoding + ' ' + address.neighbourhood : address.neighbourhood;\r\n      }\r\n      if (address.city != null) {\r\n        geocoding = geocoding ? geocoding + ' (' + address.city + ')' : address.city;\r\n      }\r\n      if (geocoding == null) {\r\n        geocoding = 'chargement..';\r\n      }\r\n    }\r\n    return geocoding;\r\n  }\r\n\r\n  getVehicule(idDevice: number): Vehicule {\r\n    let foundVehicule = new Vehicule();\r\n    for (let i = 0; i < this.groups.length; i++) {\r\n      for (let j = 0; j < this.groups[i].vehicules.length; j++) {\r\n        if (this.groups[i].vehicules[j].idDevice == idDevice) {\r\n          foundVehicule = this.groups[i].vehicules[j];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return foundVehicule;\r\n  }\r\n\r\n  clearPolylines(){\r\n    this.mapService.removePolylinesFromMap();\r\n    this.mapService.removeMarkersFromMap();\r\n    this.pathDrawn = false;\r\n}\r\n\r\nPipeLngLat(value: any) {\r\n  return this.pipe.transform(value, '2.2-6');\r\n}\r\n\r\ndisplayCurrentPath(deviceId: number) {\r\n  \r\n  this.realTimeService.getCurrentPath(deviceId).subscribe(currentPath => {\r\n  \r\n      if (currentPath != null) {\r\n          let polyline = L.polyline(currentPath.coordinates, {color: '#0031D9', weight: 3});\r\n          currentPath.coordinates.forEach((coordinate, i) => {\r\n              let marker = new Marker(coordinate);\r\n              if (i != 0 && i != currentPath.coordinates.length - 1) {\r\n                  marker.setIcon(new Icon({\r\n                      iconUrl: imagesDir + \"green-point.png\",\r\n                      iconAnchor: [2, 2]\r\n                  }));\r\n                  this.mapService.addMarker(marker);\r\n              }\r\n          });\r\n\r\n          let startMarker = L.marker({lat : currentPath.beginPathLatitude, lng: currentPath.beginPathLongitude});\r\n          startMarker.setIcon(new Icon({\r\n              iconUrl: imagesDir + \"startMarker.png\",\r\n              iconAnchor: [-2, 30],\r\n              popupAnchor: [10, -25]\r\n          }));\r\n          startMarker.on('click', () => {this.mapService.map.setView({lat : currentPath.beginPathLatitude, lng: currentPath.beginPathLongitude}, 14);});\r\n          this.mapService.addMarker(startMarker);\r\n          this.mapService.addPolyline(polyline);\r\n          this.pathDrawn = true;\r\n      }\r\n      this.previousPathdrawn = true;\r\n  }, (err) => {\r\n    this.previousPathdrawn = false;\r\n  });\r\n}\r\nlogout() : void {\r\n  this.storage.set('username' , null);\r\n  this.storage.set('password', null);\r\n  console.log('username');\r\n  this.navCtrl.setRoot(HomePage);\r\n  this.navCtrl.popToRoot();         \r\n     }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/real-time/real-time.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 151;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 151\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 194;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 194\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport { Http, Headers } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { dns } from \"./global.config\";\r\nimport { contentHeaders, createAuthorizationHeader } from \"../utils/headers\";\r\n\r\n@Injectable()\r\nexport class Login {\r\n\r\n  token: string;\r\n\r\n  constructor(public http: Http) {\r\n    console.log('Hello Login Provider');\r\n  }\r\n\r\n  login(credentials: any) {\r\n    return this.http.post(dns + 'signin', credentials, { headers: contentHeaders }).map(res => res.json());\r\n  }\r\n\r\n  logout() {\r\n    let headers = new Headers({ 'Accept': 'application/json' });\r\n    createAuthorizationHeader(headers);\r\n    return this.http.post(dns + 'signout', {}, { headers: headers }).map(res => res.json());\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/login.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ModalController, ViewController,LoadingController } from 'ionic-angular';\r\nimport { HistoricalService } from '../../providers/historical.service';\r\nimport { Subscription } from \"rxjs\";\r\n\r\n\r\n@Component({\r\n  selector: 'page-historical-form',\r\n  templateUrl: 'historical-form.html',\r\n})\r\nexport class HistoricalForm {\r\n\r\n  allGroups: Subscription;\r\n  selectedDeviceId: any;\r\n  groups: any[];\r\n  selectedGroup: any;\r\n  vehicules: any;\r\n  firstDate: any;\r\n  lastDate: any;\r\n\r\n  selectedGroupId: any;\r\n\r\n  loader: any;\r\n\r\n  constructor(private historicalService: HistoricalService, public viewCtrl: ViewController, public navCtrl: NavController, public navParams: NavParams, public loadingCtrl: LoadingController) {\r\n    this.init();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    \r\n  }\r\n\r\n  init() {\r\n    this.loader = this.loadingCtrl.create({\r\n      content: \"Veuillez attendre...\"\r\n    });\r\n    this.loader.present();\r\n    this.loadGroups();\r\n    \r\n  }\r\n\r\n\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n\r\n  loadGroups() {\r\n    this.allGroups = this.historicalService.getAllGroups().subscribe(groupes => {\r\n      this.groups = groupes;\r\n      this.selectedGroup = this.groups[0];\r\n      this.vehicules = this.selectedGroup.vehicules;\r\n\r\n      if (this.vehicules.length > 0 && this.vehicules) {\r\n        this.selectedDeviceId = this.vehicules[0].idDevice;\r\n        \r\n      }\r\n      /*this.groups.forEach(group => {\r\n        if(group.vehicules.length == 0 && this.groups != null){\r\n          this.groups.splice(this.groups.indexOf(group));\r\n        }\r\n      });*/\r\n      this.loader.dismiss();\r\n    });\r\n  }\r\n\r\n  chooseGroup(group) {\r\n    this.selectedGroup = group;\r\n    this.selectedGroupId = group;\r\n    this.groups.forEach(gr => {\r\n      if(gr.idGroupe == group){\r\n        this.vehicules = gr.vehicules;\r\n      }\r\n    })\r\n    if (this.vehicules.length > 0 && this.vehicules) {\r\n      this.selectedDeviceId = this.vehicules[0].idDevice;\r\n    }\r\n  }\r\n\r\n  chooseVehicule(vehiculeId) {\r\n    this.selectedDeviceId = vehiculeId;\r\n  }\r\n\r\n  getAllPaths() {\r\n    var date = new Date();  \r\n    this.firstDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\r\n    this.lastDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 23, 59, 59);\r\n    this.viewCtrl.dismiss({ selectedDeviceId: this.selectedDeviceId, firstDate: this.firstDate, lastDate: this.lastDate });\r\n  }\r\n\r\n  closeModal(){\r\n   this.viewCtrl.dismiss(null);\r\n\r\n  }\r\n  c\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/historical-form/historical-form.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ModalController,LoadingController,ViewController } from 'ionic-angular';\r\n\r\n\r\n@Component({\r\n  selector: 'page-paths-list',\r\n  templateUrl: 'paths-list.html',\r\n})\r\nexport class PathsList {\r\n\r\n  paths: any[];\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController) {\r\n    this.paths = navParams.get('paths');\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad PathsList');\r\n  }\r\n\r\n  drawPath(path: any){\r\n    this.viewCtrl.dismiss(path);\r\n  }\r\n\r\n  closeModal(){\r\n    this.viewCtrl.dismiss(null);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paths-list/paths-list.ts","import {Driver} from \"./data-management\";\r\n\r\nexport class RealTimeRecord {\r\n    \r\n        idRealTimeRecord: number;\r\n        recordTime: Date;\r\n        coordinate: {lat: number,lng: number};\r\n        speed: number;\r\n        temperature: string;\r\n        validity: boolean;\r\n        ignition: boolean;\r\n        power: number;\r\n        mems_x: number;\r\n        mems_y: number;\r\n        mems_z: number;\r\n        sendFlag: number;\r\n        type:'AA'|'GPRMC';\r\n        satInView: number;\r\n        signal: string;\r\n        heading: number;\r\n        matricule: string;\r\n        mark: string;\r\n        realTimeRecordStatus: string;\r\n        geocoding: string;\r\n        geocodingDetails: string;\r\n        relativePosition: string;\r\n        rotationAngle: number;\r\n        icon : string;\r\n    \r\n        vehicule: Vehicule = null;\r\n    \r\n        constructor() {\r\n            this.geocoding = `Chargement..`;\r\n            this.geocodingDetails = 'Chargement..';\r\n            this.speed = 0;\r\n            this.recordTime = new Date();\r\n            this.coordinate = {lat: 0, lng: 0};\r\n            this.realTimeRecordStatus = '';\r\n            this.rotationAngle= 0;\r\n        }\r\n    \r\n    }\r\n    \r\n    export class Group {\r\n        nom: string;\r\n        isOpen: boolean;\r\n        vehicules: Vehicule[];\r\n         icon: string;\r\n    }\r\n    \r\n    export class Vehicule {\r\n        idDevice: number;\r\n        matricule: string;\r\n        mark: string;\r\n        recordTime: Date;\r\n        coordinate: {lat: number,lng: number};\r\n        geocoding: string;\r\n        geocodingDetails: string;\r\n        speed: number;\r\n        driverName: string;\r\n        driver: Driver;\r\n    \r\n        realTimeRecord: RealTimeRecord;\r\n    \r\n        constructor() {\r\n            this.realTimeRecord = new RealTimeRecord();\r\n        }\r\n    }\n\n\n// WEBPACK FOOTER //\n// ./src/objects/real-time.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { HttpModule } from '@angular/http';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport {DecimalPipe} from '@angular/common';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\n\r\nimport { MyApp } from './app.component';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { Login } from '../providers/login';\r\nimport { MapPage } from '../pages/map-page/map-page';\r\nimport { Historical } from '../pages/historical/historical';\r\nimport { RealTime } from '../pages/real-time/real-time';\r\nimport { GroupsPage } from '../pages/groups-page/groups-page';\r\nimport { HistoricalForm } from '../pages/historical-form/historical-form';\r\nimport { PathsList } from '../pages/paths-list/paths-list';\r\nimport { GeocodingService } from '../utils/geocoding.service';\r\nimport { MapService } from '../utils/map.service';\r\nimport {RealTimeService} from '../providers/real-time.service';\r\nimport {HistoricalService} from '../providers/historical.service';\r\nimport { DataManagementService } from '../providers/data-management.service';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    HomePage,\r\n    MapPage,\r\n    Historical,\r\n    RealTime,\r\n    GroupsPage,\r\n    HistoricalForm,\r\n    PathsList\r\n  ], \r\n\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    IonicModule.forRoot(MyApp),\r\n    IonicStorageModule.forRoot()\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    HomePage,\r\n    MapPage,\r\n    Historical,\r\n    RealTime,\r\n    GroupsPage,\r\n    HistoricalForm,\r\n    PathsList\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    Login,\r\n    GeocodingService,\r\n    MapService,\r\n    RealTimeService,\r\n    DataManagementService,\r\n    HistoricalService,\r\n    DecimalPipe,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    IonicStorageModule\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { RealTime } from '../pages/real-time/real-time';\r\n\r\n\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage: any ;\r\n\r\n  constructor(platform: Platform, statusBar: StatusBar)/*, splashScreen: SplashScreen)*/ {\r\n\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      //splashScreen.hide();\r\n      this.checkPreviousAuthorization();\r\n    });\r\n  }\r\n\r\n  checkPreviousAuthorization(): void { \r\n    if((window.localStorage.getItem('username') === \"undefined\" || window.localStorage.getItem('username') === null) && \r\n       (window.localStorage.getItem('password') === \"undefined\" || window.localStorage.getItem('password') === null)) {\r\n      this.rootPage = HomePage;\r\n    } else {\r\n      this.rootPage = RealTime;\r\n    }\r\n  }  \r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Headers} from '@angular/http';\r\n\r\nexport const contentHeaders = new Headers();\r\ncontentHeaders.append('Accept', 'application/json');\r\ncontentHeaders.append('Content-Type', 'application/json');\r\n\r\nexport function createAuthorizationHeader(headers: Headers) {\r\n    headers.append('Authorization', localStorage.getItem('id_token'));\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/headers.ts","\r\n//export var dns: string = \"http://79.137.75.178:8080/ws_rimtrack_all_dev/\";\r\n//export var dns: string = \"http://localhost:8080/rimtrack-all-v2/\";\r\nexport var dns: string = \"http://37.187.171.84:8080/ws_rimtrack_all/\";\r\n//export var imagesDir: string = \"http://79.137.75.178:8080/images/\";\r\nexport var nominatim_dns:string = \"http://37.187.171.84/nominatim\";\r\n//src=\"http://37.187.171.84/images/c3x180.png\"\r\nexport var imagesDir: string = \"http://37.187.171.84/images/\";\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/global.config.ts","import {Injectable} from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {Http, Headers} from '@angular/http';\r\nimport {dns} from \"./global.config\";\r\nimport {RealTimeRecord, Group} from \"../objects/real-time\";\r\nimport {Poi} from \"../objects/poi\";\r\n\r\n@Injectable()\r\nexport class RealTimeService {\r\n\r\n    token: string;\r\n\r\n    constructor(private _http: Http) {\r\n\r\n    }\r\n\r\n    getRealTimeRecord(deviceId: number): Observable<RealTimeRecord> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.get(dns + 'realTimeRecords/' + deviceId, {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    getAllPois(): Observable<Poi[]> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.get(dns + 'pointInterests/dtos', {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    getAllRealTimeRecords(): Observable<RealTimeRecord[]> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.get(dns + 'realTimeRecords', {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    getAllGroups(keyword: string): Observable<Group[]> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.get(dns + 'groupes/details?keyword=' + keyword, {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    getCurrentPath(deviceId: number): Observable<any> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.post(dns + 'paths/currentPath/' + deviceId,null,  {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/real-time.service.ts","import { Component } from '@angular/core';\r\nimport { NavController,NavParams } from 'ionic-angular';\r\nimport { RealTime } from '../real-time/real-time';\r\nimport { Historical } from '../historical/historical';\r\nimport {GroupsPage} from '../groups-page/groups-page';\r\n\r\n@Component({\r\n  selector: 'page-map-page',\r\n  templateUrl: 'map-page.html'\r\n})\r\nexport class MapPage {\r\n\r\n  realTimeRoot: any = RealTime;\r\n  historicalRoot: any = Historical;\r\n  \r\n  \r\n\r\n  constructor(public navCtrl: NavController) {}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map-page/map-page.ts","import { Component } from '@angular/core';\r\nimport { NavController,ToastController } from 'ionic-angular';\r\nimport {Login} from '../../providers/login';\r\nimport {MapPage} from '../map-page/map-page';\r\nimport {RealTimeService} from '../../providers/real-time.service';\r\nimport {HistoricalService} from '../../providers/historical.service';\r\nimport { DataManagementService } from '../../providers/data-management.service';\r\nimport {Historical} from '../historical/historical'\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n  login: String = null;\r\n  mdp: String = null;\r\n  loginTest : String = null;\r\n  mdpTest : String = null;\r\n  constructor(public storage: Storage,private historicalService: HistoricalService,private realTimeService: RealTimeService,private dataManagementService: DataManagementService, public navCtrl: NavController,private signinService: Login,private toastController: ToastController) {\r\n this.storage.get('username').then((data)=>{\r\n            if(data != null){ \r\n              this.login = data;\r\n            }\r\n            this.storage.get('password').then((data)=>{\r\n           if(data != null){              \r\n              this.mdp = data;\r\n           }\r\n           if(this.login != null && this.mdp != null){\r\n            this.loginTest = this.login;\r\n            this.mdpTest = this.mdp;\r\n            this.onSubmit();\r\n          }\r\n          });\r\n          });\r\n\r\n  }\r\n  onSubmit() {\r\n    this.signinService.login({\"username\":this.login,\"password\":this.mdp}).subscribe(\r\n      token => {\r\n          this.goToRt();\r\n          this.signinService.token = token.token;\r\n          this.realTimeService.token = token.token;\r\n          this.historicalService.token = token.token;\r\n          this.dataManagementService.token = token.token;\r\n          this.storage.set('username',this.login);\r\n          this.storage.set('password',this.mdp);\r\n      }\r\n      , ()=> {\r\n        let toast = this.toastController.create({\r\n          message: 'Authentification Echoue!',\r\n          duration: 2000\r\n        });\r\n        toast.present();\r\n      });\r\n  }\r\n\r\n  goToRt(){\r\n    this.navCtrl.push(Historical).then(() => {\r\n      const index = this.navCtrl.getActive().index;\r\n      this.navCtrl.remove(0, index);\r\n});\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import {Injectable} from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {Http, Headers} from '@angular/http';\r\nimport {dns} from \"./global.config\";\r\n\r\n@Injectable()\r\nexport class HistoricalService {\r\n\r\n    token: string;\r\n\r\n    constructor(private _http: Http) {\r\n\r\n    }\r\n\r\n    getAllGroups(): Observable<any[]> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.get(dns + 'groupes/minify', {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    getAllPaths(deviceId: number, dateInterval: any): Observable<any[]> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.post(dns + 'paths/' + deviceId, dateInterval, {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    getCurrentPath(deviceId: number): Observable<any> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.post(dns + 'paths/currentPath/' + deviceId,null,  {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    getPathDetails(deviceId: number, dateInterval: any): Observable<any> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.post(dns + 'paths/details/' + deviceId, dateInterval, {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/historical.service.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport {Http, Headers} from '@angular/http';\r\nimport { dns,nominatim_dns } from \"./global.config\";\r\nimport {PointInterest, GroupDto, VehiculesDto,Driver} from \"../objects/data-management\";\r\n\r\n@Injectable()\r\nexport class DataManagementService {\r\n\r\n    pointInterests: PointInterest[] = null;\r\n    token: string;\r\n    groups: GroupDto[] = null;\r\n\r\n    selectedGroup:GroupDto = null;\r\n    selectedVehiculeId:number = null;\r\n\r\n    constructor(private _http: Http) {\r\n    }\r\n\r\n    inverseGeoconding(latitude: number, longitude: number, zoom: number): Observable<any> {\r\n        return this._http.get(nominatim_dns + '/reverse.php?format=json&lat=' + latitude + '&lon=' + longitude + '&zoom=' + zoom + '&accept-language=fr&addressdetails=1').map(res => res.json());\r\n    }\r\n\r\n    getAllPointInterests(): Observable<PointInterest[]> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.get(dns + 'pointInterests', {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    addPointInterest(pointInterest: PointInterest): Observable<PointInterest> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.post(dns + 'pointInterests', pointInterest, {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    getAllGroups(): Observable<GroupDto[]> {\r\n        let headers = new Headers({'Accept': 'application/json'});\r\n        headers.append('Authorization', this.token);\r\n        return this._http.get(dns + 'groupes/minify', {headers: headers}).map(res => res.json());\r\n    }\r\n\r\n    // must exe only if pointInterests not NULL !!!\r\n    getRelativePosition(lat: number, lng: number): string {\r\n        let relativePosition = null;\r\n        this.pointInterests.forEach(pointInterest => {\r\n            let distance = this.distance(lat, lng, pointInterest.coordinate.lat, pointInterest.coordinate.lng);\r\n            if (distance < pointInterest.ray / 1000) {\r\n                relativePosition = pointInterest.name;\r\n            }\r\n            /*if (distance > pointInterest.ray / 1000 && distance < 0.1) {\r\n                relativePosition = Math.round(distance * 1000) + \" metre de \" + pointInterest.name;\r\n            }*/\r\n            if (distance > pointInterest.ray / 1000 && distance <0.2) {\r\n                let distanceStr = distance.toString().substr(0, 4);\r\n                relativePosition = \" \" + distanceStr + \" Km de \" + pointInterest.name;\r\n            }\r\n        });\r\n        return relativePosition;\r\n    }\r\n\r\n    distance(lat1, lon1, lat2, lon2) {\r\n        var p = 0.017453292519943295;    // Math.PI / 180\r\n        var c = Math.cos;\r\n        var a = 0.5 - c((lat2 - lat1) * p) / 2 +\r\n            c(lat1 * p) * c(lat2 * p) *\r\n            (1 - c((lon2 - lon1) * p)) / 2;\r\n        var distance = 12742 * Math.asin(Math.sqrt(a));\r\n        return distance;\r\n    }\r\n\r\n    getDriverName(driver: Driver) {\r\n        if (driver) {\r\n            if (driver.firstName && driver.lastName) {\r\n                return driver.firstName + ' ' + driver.lastName;\r\n            }\r\n            else if (driver.firstName) {\r\n                return driver.firstName;\r\n            }\r\n            else if (driver.lastName) {\r\n                return driver.lastName;\r\n            }\r\n            else return \"anonyme\";\r\n        }\r\n        else return \"pas de chauffeur\";\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data-management.service.ts"],"sourceRoot":""}